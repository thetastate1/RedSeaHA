[
    {
        "id": "93fb4f06d7a3a7bc",
        "type": "tab",
        "label": "RedSeaHomeAssistant",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "730f76ad146b24b9",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 560,
        "wires": [
            [
                "9af672121c880de3"
            ]
        ]
    },
    {
        "id": "0e85da27edbf79d4",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 96",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 640,
        "y": 520,
        "wires": []
    },
    {
        "id": "0f9176095ad80dc1",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 97",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 2060,
        "wires": []
    },
    {
        "id": "9c5c024594136917",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 1 Minuite",
        "props": [],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 660,
        "wires": [
            [
                "9523cba9f72f9b28"
            ]
        ]
    },
    {
        "id": "6d74ca27934d0816",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 660,
        "wires": [
            [
                "0fab7c24b67c07e4",
                "78ae024676ecb651",
                "1eeeba0a936b49ed",
                "443990d9ae2e1c0f",
                "a62e8fd04ee517e1",
                "f18274330574aff7",
                "ee7448d2ecd725d7",
                "b975d70bc09a6a6a",
                "e78b7a3be8d63f56"
            ]
        ]
    },
    {
        "id": "0fab7c24b67c07e4",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 99",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 640,
        "y": 620,
        "wires": []
    },
    {
        "id": "b94b6bcf20b503f1",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 760,
        "wires": [
            [
                "b26b03fb1deee5d8"
            ]
        ]
    },
    {
        "id": "12d15299aa7b338b",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "PUT",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1070,
        "y": 760,
        "wires": [
            [
                "40ab20ab4ef9a6c8",
                "a94b84c1ca1f3c38"
            ]
        ]
    },
    {
        "id": "40ab20ab4ef9a6c8",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "Update Debug",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 720,
        "wires": []
    },
    {
        "id": "7db56b3cfa2bf8a1",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 5 Minutes",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 1400,
        "wires": [
            [
                "034bf1bce0bd9e9a",
                "70fd1ec858f185d2",
                "7493c8e1dd148e2e",
                "b00f8237d4278921"
            ]
        ]
    },
    {
        "id": "7891a0bc79e3955d",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1400,
        "wires": [
            [
                "1c1c2fda4c89fe78",
                "ca0ee2fddddf1572",
                "6b2f357b62d0a13a",
                "6011d76135aa3c26",
                "c8192c80b8fd49ee",
                "334c7f228e4ec415",
                "26497e4056963518"
            ]
        ]
    },
    {
        "id": "1c1c2fda4c89fe78",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 102",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1360,
        "wires": []
    },
    {
        "id": "635457c5c73bd66c",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 15 Minutes",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 1020,
        "wires": [
            [
                "fba0ff0039159589"
            ]
        ]
    },
    {
        "id": "d91ffedd5a9a5745",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1020,
        "wires": [
            [
                "d4f690342df983b7",
                "dc9ea3016f7a0e09",
                "6e0923f0dd1bd356",
                "286c8364605a0af5",
                "404cf543043afa1b",
                "40c97285ba6bce34",
                "f3c8d9fbbea45fe4",
                "9f760cdf4017cd6b",
                "409abbf4109db3b6"
            ]
        ]
    },
    {
        "id": "d4f690342df983b7",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 105",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 980,
        "wires": []
    },
    {
        "id": "78ae024676ecb651",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump1Temperature",
        "entityConfig": "8622b2230b385942",
        "version": 0,
        "state": "payload.pump_1.temperature",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 850,
        "y": 620,
        "wires": [
            [
                "7e0a125e02520594"
            ]
        ]
    },
    {
        "id": "7e0a125e02520594",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 111",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 500,
        "wires": []
    },
    {
        "id": "b26b03fb1deee5d8",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefRun Speed",
        "func": "// Set the URL with IP\nif (global.get(\"RSReefRun\")) {\n    msg.url = \"http://\" + global.get(\"RSReefRunIP\") + \"/pump/settings\"\n}\nelse { node.warn(\"No ReefRun Devices Found\"); return }\n\n// The value is the payload\nvar newState = msg.payload\n\n// Default value for testing\nif (!msg.payload) { newState = 50 }\n\n// Determine which pump from input node\nvar pump = \"pump_1\"\nif (msg.config == \"Pump1Speed\") {\n    pump = \"pump_2\"\n}\n\n// Looks like Reef Pump needs three numeric values. PumpSpeed = \"ti\", not sure what the others are yet \nmsg.payload = {\n    [pump]: {\n        \"schedule\": [\n            {\n                \"ti\": newState,\n                \"st\": 0,\n                \"pd\": 0\n            }\n        ]\n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 760,
        "wires": [
            [
                "12d15299aa7b338b",
                "54e1a6c05f6ba0de"
            ]
        ]
    },
    {
        "id": "54e1a6c05f6ba0de",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 113",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 720,
        "wires": []
    },
    {
        "id": "1eeeba0a936b49ed",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump1Name",
        "entityConfig": "dae8aa7e26863969",
        "version": 0,
        "state": "payload.pump_1.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 830,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "443990d9ae2e1c0f",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump1Type",
        "entityConfig": "d0cb2ad053e21785",
        "version": 0,
        "state": "payload.pump_1.type",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 830,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "dc9ea3016f7a0e09",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatSensor",
        "entityConfig": "fda19838d43d97fc",
        "version": 0,
        "state": "payload.unclean_sensor",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 930,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "6e0923f0dd1bd356",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatAutoAdvance",
        "entityConfig": "0bee1cb3914e5e15",
        "version": 0,
        "state": "payload.auto_advance",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 950,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "286c8364605a0af5",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatLastAdvanceCause",
        "entityConfig": "e247756b63567ed8",
        "version": 0,
        "state": "payload.last_advance_cause",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 970,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "404cf543043afa1b",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatRollLevel",
        "entityConfig": "377b9e06d9d40850",
        "version": 0,
        "state": "payload.roll_level",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 930,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "40c97285ba6bce34",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatRollDaysLeft",
        "entityConfig": "1117c9c480f41ea3",
        "version": 0,
        "state": "payload.days_till_end_of_roll",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 940,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "f3c8d9fbbea45fe4",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatTodaysUsage",
        "entityConfig": "ed5d511dfb4a43ef",
        "version": 0,
        "state": "payload.today_usage",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 950,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "9f760cdf4017cd6b",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatDailyUsage",
        "entityConfig": "3a8459e4657ff702",
        "version": 0,
        "state": "payload.daily_average_usage",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 940,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "409abbf4109db3b6",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatTotalUsage",
        "entityConfig": "1eab63fe7c5278b9",
        "version": 0,
        "state": "payload.total_usage",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 940,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "90d91d5ed3b3dc42",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Red Sea Pumps and Skimmers - Local",
        "info": "",
        "x": 190,
        "y": 460,
        "wires": []
    },
    {
        "id": "ec6e0e6e195f3cf9",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Red Sea Roller Mat - Local",
        "info": "http://DeviceIP/reef-matt/settings\nhttp://DeviceIP/dashboard\nhttp://DeviceIP/mode\n\nPOST https://cloud.reef-beat.com/reef-mat/94b5557ea464/advance\nPOST http://DeviceIP/advance\nGET http://DeviceIP/configuration\nauto_advance: true\nend_of_roll_monitor: 3\ncustom_advance_value: 2.25\nschedule_enable: false\nschedule_time: 0\nschedule_length: 20\nfresh_water_aquarium: false\nposition: \"right\"\nmodel: \"RSMAT500\"\nauto_delay: 30\nblockage_recover_retries: 3\nmat_end_length: 100\nec_water_threshold: 300\nmotor_blockage_threshold: 2000\nblockage_recover_interval: 3\nrelief_motor_reverse_time: 200\ndispatch_timeout_sec: 10\nmotor_speed: 3000\nenable_ec_sensor_detection: true\nec_fresh_water_threshold: 30",
        "x": 150,
        "y": 880,
        "wires": []
    },
    {
        "id": "9f54e9e44bc6249c",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Red Sea Dosers - Local",
        "info": "cloud\n//http://[rsdose-address]/time\n//http://[rsdose-address]/description.xml\n//http://[rsdose-address]/cloud\n//http://[rsdose-address]/connectivity\n//http://[rsdose-address]/connectivity/events\n//http://[rsdose-address]/mode\n//http://[rsdose-address]/logging\n//http://[rsdose-address]/head/1/settings  // /head/[head#]/settings\n//http://[rsdose-address]/device-settings\n//http://[rsdose-address]/daily-log\n//http://[rsdose-address]/dosing-queue\n//http://[rsdose-address]/supplement\n//http://[rsdose-address]/head/1/supplement-volume   //   /head/[head#]/  //   Same output as supplement above\n//http://[rsdose-address]/hourly-log/1716249600  //  /hourly-log/[epoch]\n//http://[rsdose-address]/export-log\n\n/* \nmsg.payload = {\n    \"container_volume\": msg.payload.container_volume,\n    \"dc\": msg.payload.dc,\n    \"entire_dd\": msg.payload.entire_dd,\n    \"food_delay\": msg.payload.food_delay,\n    \"is_food_head\": msg.payload.is_food_head,\n    \"schedule\": {\n        \"days\": [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7\n        ],\n        \"dd\": msg.newValue,\n        \"mode\": msg.payload.schedule.mode,\n        \"time\": msg.payload.schedule.time,\n        \"type\": msg.payload.schedule.type\n    },\n    \"schedule_enabled\": msg.payload.schedule_enabled,\n    \"show\": msg.payload.show,\n    \"slm\": msg.payload.slm\n}\n*/\n\n\n// Cloud\n// PUT https://cloud.reef-beat.com/reef-dosing/34ab9545eb30/head/4/settings\n/*\nvar returns = {\n    \"container_volume\": 159,\n    \"dc\": true,\n    \"entire_dd\": true,\n    \"food_delay\": 0,\n    \"is_food_head\": false,\n    \"schedule\": {\n        \"days\": [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7\n        ],\n        \"dd\": 6,\n        \"mode\": \"regular\",\n        \"time\": 480,\n        \"type\": \"single\"\n    },\n    \"schedule_enabled\": true,\n    \"show\": true,\n    \"slm\": true\n}\n\n//GET https://cloud.reef-beat.com/reef-dosing/34ab9545eb30/head/4/settings\nreturns = {\n    \"container_volume\": 159,\n    \"dc\": true,\n    \"enable_ratio\": true,\n    \"entire_dd\": true,\n    \"food_delay\": 0,\n    \"is_food_head\": false,\n    \"last_calibrated\": 1656594792,\n    \"manual_dose_scheduled\": false,\n    \"recalibration_required\": false,\n    \"schedule\": {\n        \"days\": [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7\n        ],\n        \"dd\": 6,\n        \"mode\": \"regular\",\n        \"time\": 480,\n        \"type\": \"single\"\n    },\n    \"schedule_enabled\": true,\n        \"show\": true,\n        \"slm\": true,\n        \"state\": \"on\",\n        \"supplement\": {\n            \"brand_name\": \"Red Sea\",\n            \"concentration\": 0,\n            \"display_name\": \"Nutrient control\",\n            \"is_brand_editable\": false,\n            \"is_name_editable\": false,\n            \"is_supplement_editable\": false,\n            \"made_by_redsea\": true,\n            \"name\": \"NO3PO4-X\",\n            \"short_name\": \"NPX\",\n            \"type\": \"null\",\n            \"uid\": \"ffaf6ff8-bc6d-44eb-9e4b-e679943dc835\"\n    },\n    \"today_auto_dosed_volume\": 5,\n    \"vps\": 0.060606\n}\n*/\n\nlocal\nhttp://\" + global.get(\"RSReefDoseIP\") + \"/device-settings\"\nhttp://\" + global.get(\"RSReefDoseIP\") + \"/dashboard\"\nGET and PUT http://\" + global.get(\"RSReefDoseIP\") + \"/head/1/settings\"\n\n// From mitmproxy manual feeding via the cloud api is:\n// POST https://cloud.thereefbeat.com/<device>/head/2/manual\n// msg.payload = {\n//      \"volume\": 2\n//  }\n// Returns:\n// {\n// \"success\": true,\n//    \"message\": \"running manual dosing\",\n//        \"is_given_immediately\": true\n//}\n// Local is POST http://<IP>/head/<head>/manual\n// With paylod = { \"manual_dose_scheduled\" = true, \"volume\": <volume>}\n",
        "x": 140,
        "y": 1320,
        "wires": []
    },
    {
        "id": "f2a0ff5f6ce41d93",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1440,
        "wires": [
            [
                "1c1c2fda4c89fe78",
                "4ab710c345c7fe2a",
                "8dc911fee4c4b77b",
                "e46e2914a1e5adad",
                "76ffdbd0d6f1c569",
                "2387997495d14cc0",
                "125b21759419b9d4"
            ]
        ]
    },
    {
        "id": "08b20658268d23b9",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1480,
        "wires": [
            [
                "1c1c2fda4c89fe78",
                "f61e536105bda2fb",
                "e7df774e76442476",
                "0dcb2e0439d4c37c",
                "cbabaa5a7b975b93",
                "1d1ff6b7af2ebe0d",
                "7c0bf8b15b3a901c"
            ]
        ]
    },
    {
        "id": "7709b12466af1992",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1520,
        "wires": [
            [
                "1c1c2fda4c89fe78",
                "64db713440891d9b",
                "288baa5706a01397",
                "8a32d9de8a6793e9",
                "07f432a7332790d6",
                "e32cdff36e602a58",
                "b91f42114df37425"
            ]
        ]
    },
    {
        "id": "6b2f357b62d0a13a",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head1SuppName",
        "entityConfig": "f4e2971f10693b77",
        "version": 0,
        "state": "payload.supplement.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 930,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "6011d76135aa3c26",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head1DosedToday",
        "entityConfig": "2da421c0cd373f85",
        "version": 0,
        "state": "payload.today_auto_dosed_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 930,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "c8192c80b8fd49ee",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head1DailyDose",
        "entityConfig": "0532ec63a052adfa",
        "version": 0,
        "state": "payload.schedule.dd",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 930,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "db24bd5f7b69e00c",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Red Sea WaveMaker - Local - Payloads in comments",
        "info": "Reef Dose Endpoints\n//http://[rsdose-address]/time\n//http://[rsdose-address]/description.xml\n//http://[rsdose-address]/cloud\n//http://[rsdose-address]/connectivity\n//http://[rsdose-address]/connectivity/events\n//http://[rsdose-address]/mode\n//http://[rsdose-address]/logging\n//http://[rsdose-address]/head/1/settings  // /head/[head#]/settings\n//http://[rsdose-address]/device-settings\n//http://[rsdose-address]/daily-log\n//http://[rsdose-address]/dosing-queue\n//http://[rsdose-address]/supplement\n//http://[rsdose-address]/head/1/supplement-volume   //   /head/[head#]/  //   Same output as supplement above\n//http://[rsdose-address]/hourly-log/1716249600  //  /hourly-log/[epoch]\n//http://[rsdose-address]/export-log\n\nReef Wave Endpoints Local\nGET http://<IP>/feeding/schedule\nGET http://<IP>/mode\nmsg.payload = {\n    \"mode\": \"off\" // or \"auto\"\n    // Could not enable off. Use the dedicated endpoint instead.\n}\nPOST http://<IP>/feeding/schedule\nmsg.payload =\n{\n    \"in_sync\": true,\n        \"intervals\": [\n            {\n                \"duration\": msg.newValue,\n                \"name\": \"No Wave\",\n                \"type\": \"nw\",\n                \"wave_uid\": wave_uid\n            }\n        ],\n        \"uid\": uid\n}\nPOST http://192.168.68.128/preview\nmsg.payload = {\n    \"direction\": \"fw\",\n    \"frt\": 9,\n    \"pd\": 6,\n    //\"pump_settings\": [\n    //    {\n    //        \"fti\": 100,\n    //        \"hwid\": \"16422546\",\n    //        \"rti\": 100\n    //    }\n    //],\n    \"rrt\": 5,\n    \"sn\": 3,\n    \"type\": \"un\",\n    \"duration\": 3000,\n    \"fti\": 10,\n    \"rti\": 10,\n    \"sync\": true\n}\n\n\nReef Wave Endpoints\nhttp://[rwave-address]/device-settings\nhttp://[rwave-address]/mode\nhttp://[rwave-address]/connectivity\nhttp://[rwave-address]/connectivity/events\nhttp://[rwave-address]/connect\nhttp://[rwave-address]/description.xml\nhttp://[rwave-address]\n\nhttps://cloud.reef-beat.com/reef-wave/16422546/device-settings/\n\nPUT https://cloud.reef-beat.com/reef-wave/library/39c5ecea-4d7c-4564-af04-089db8985da9\nPayload to change speed forward is fti back is rti\n{\n    \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n    \"default\": false,\n    \"frt\": 10, // Forward run time\n    \"name\": \"cade\",\n    \"pd\": 7, // Pulse time\n    \"pump_settings\": [\n        {\n            \"fti\": 90, // Forward speed\n            \"hwid\": \"16422546\",\n            \"rti\": 100, // Reverse speed\n            \"sync\": true\n        }\n    ],\n    \"rrt\": 5, // Reverse run time\n    \"type\": \"un\", // Wave type uniform\n    \"uid\": \"39c5ecea-4d7c-4564-af04-089db8985da9\"\n}\n\nPUT https://cloud.reef-beat.com/reef-mat/94b5557ea464/previous-roll\n{\n    \"days_of_usage\": 108,\n    \"length\": 2799.966751098633,\n    \"material_name\": \"Unknown\",\n    \"setup_date\": \"2024-11-17T10:02:12Z\"\n}\n\nhttps://cloud.reef-beat.com/reef-wave/schedule/16422546\n{\n    \"in_sync\": true,\n    \"intervals\": [\n        {\n            \"direction\": \"fw\",\n            \"frt\": 10,\n            \"fti\": 80,\n            \"name\": \"cade\",\n            \"pd\": 6,\n            \"rrt\": 5,\n            \"rti\": 100,\n            \"st\": 0,\n            \"sync\": true,\n            \"type\": \"un\",\n            \"wave_uid\": \"39c5ecea-4d7c-4564-af04-089db8985da9\"\n        }\n    ],\n    \"uid\": \"0bffcb14-f9d9-4d19-9dba-69cd126e6150\"\n}\n\nGET https://cloud.reef-beat.com/reef-wave/16422546/feeding/schedule\n{\n    \"in_sync\": true,\n    \"intervals\": [\n        {\n            \"duration\": 20,\n            \"name\": \"No Wave\",\n            \"type\": \"nw\",\n            \"wave_uid\": \"b311c901-6839-497d-b0f7-9d018865f025\"\n        }\n    ],\n    \"uid\": \"f4fcb7f3-27bb-4595-9d32-b2feb8ab5831\"\n}\n\nhttps://cloud.reef-beat.com/reef-wave/library\nreturns:\n[\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": true,\n        \"frt\": 10,\n        \"name\": \"RS Regular\",\n        \"pump_settings\": [\n            {\n                \"fti\": 40,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 2,\n        \"type\": \"re\",\n        \"uid\": \"0366b9c6-ba0b-4bf9-b306-0daa683f0a81\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": true,\n        \"frt\": 10,\n        \"name\": \"RS Random\",\n        \"pump_settings\": [\n            {\n                \"fti\": 40,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 2,\n        \"type\": \"ra\",\n        \"uid\": \"14dcfbe7-cc17-4f3e-b4fd-a57b577f7036\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": false,\n        \"frt\": 10,\n        \"name\": \"cade2\",\n        \"pd\": 5.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 90,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 2,\n        \"sn\": 6,\n        \"type\": \"st\",\n        \"uid\": \"3438f860-c7d7-4cd9-bd42-ccd42876b296\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": false,\n        \"frt\": 9,\n        \"name\": \"cade\",\n        \"pd\": 6.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 80,\n                \"hwid\": \"16422546\",\n                \"rti\": 100,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 5,\n        \"type\": \"un\",\n        \"uid\": \"39c5ecea-4d7c-4564-af04-089db8985da9\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": true,\n        \"frt\": 10,\n        \"name\": \"RS Step\",\n        \"pd\": 3.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 40,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 2,\n        \"sn\": 6,\n        \"type\": \"st\",\n        \"uid\": \"49ac6123-69ac-4fa9-a375-a7447a7f5ed4\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": false,\n        \"name\": \"Surface100\",\n        \"pd\": 1.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 100,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"type\": \"su\",\n        \"uid\": \"8d4b9c60-d779-4b36-8979-7f7a44444f31\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": false,\n        \"frt\": 10,\n        \"name\": \"cade1\",\n        \"pd\": 5.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 100,\n                \"hwid\": \"16422546\",\n                \"rti\": 100,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 4,\n        \"type\": \"un\",\n        \"uid\": \"aa9f4dfb-8414-4011-ab01-aec6d71f2a4f\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": true,\n        \"name\": \"No Wave\",\n        \"pump_settings\": [],\n        \"type\": \"nw\",\n        \"uid\": \"b311c901-6839-497d-b0f7-9d018865f025\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": false,\n        \"name\": \"surface100\",\n        \"pd\": 1.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 100,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"type\": \"su\",\n        \"uid\": \"ba283d5a-ab18-4cee-9af4-6baf9858c986\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": true,\n        \"name\": \"RS Surface\",\n        \"pd\": 1.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 40,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"type\": \"su\",\n        \"uid\": \"c832e384-936d-4e88-a151-1f485dd9bd59\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": false,\n        \"frt\": 10,\n        \"name\": \"constant\",\n        \"pump_settings\": [\n            {\n                \"fti\": 100,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 2,\n        \"type\": \"re\",\n        \"uid\": \"ccfd6f0c-8f4e-4fd2-a268-1021af77c715\"\n    },\n    {\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"default\": true,\n        \"frt\": 10,\n        \"name\": \"RS Uniform\",\n        \"pd\": 3.0,\n        \"pump_settings\": [\n            {\n                \"fti\": 40,\n                \"hwid\": \"16422546\",\n                \"rti\": 60,\n                \"sync\": true\n            }\n        ],\n        \"rrt\": 2,\n        \"type\": \"un\",\n        \"uid\": \"f902c5af-9c42-4e81-a166-b6b7cfc24c07\"\n    }\n]",
        "x": 260,
        "y": 1900,
        "wires": []
    },
    {
        "id": "ca0ee2fddddf1572",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head1Remaining",
        "entityConfig": "1c79feb62a03458f",
        "version": 0,
        "state": "payload.container_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 930,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "334c7f228e4ec415",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head1SuppShortName",
        "entityConfig": "04c6d24f05021b64",
        "version": 0,
        "state": "payload.supplement.short_name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 950,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "a62e8fd04ee517e1",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump1Speed",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "28d87086bfb9ba54",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.pump_1.intensity",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 830,
        "y": 660,
        "wires": [
            [
                "7e0a125e02520594"
            ]
        ]
    },
    {
        "id": "f9fde45dd2b7b737",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump1Speed",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "28d87086bfb9ba54",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload.pump_1.intensity",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "config",
                "propertyType": "msg",
                "value": "name",
                "valueType": "config"
            }
        ],
        "x": 650,
        "y": 720,
        "wires": [
            [
                "b26b03fb1deee5d8"
            ]
        ]
    },
    {
        "id": "ec3f72d06e5b7656",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 117",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 2060,
        "wires": []
    },
    {
        "id": "0ce2826e9a59e276",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test ",
        "props": [],
        "repeat": "180",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 2740,
        "wires": [
            [
                "1ab2ec0feae15f97"
            ]
        ]
    },
    {
        "id": "80c450d0f85c39fe",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Red Sea Lights",
        "info": "//http://[rsled-address]/time\n//http://[rsled-address]/description.xml\n//http://[rsled-address]/cloud\n//http://[rsled-address]/connectivity\n//http://[rsled-address]/connectivity/events\ncurl -i -X POST -H 'Content-Type: application/json' -d '{\"white\": 0, \"blue\":100, \"moon\": 0 }' http://xx.xx.xx.xx/manual\nmode : {\n    mode: auto\n}\ntimer: {\n    \"blue\": 100,\n    \"duration\": 30,\n    \"moon\": 0,\n    \"white\": 100\n}\n\n// Set duration\nPOST http://<IP>/command/manual\n{\n    \"intensity\": 100,\n    \"kelvin\": 15000,\n    \"moon\": 0\n}\n\n// Set duration\nPOST http://<IP>/command/timer\n{\n    \"kelvin\": 15000,\n    \"moon\": 0,\n    \"duration\": 29,\n    \"intensity\": 100\n}\n\nPreset Program Library for cloud. Need to work out local endpoint\nPOST https://cloud.thereefbeat.com/device/f8b3b7c74f38/command/preset_name/1\n{\n    \"name\": \"23K\"\n}",
        "x": 140,
        "y": 2840,
        "wires": []
    },
    {
        "id": "4ab710c345c7fe2a",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head2Remaining",
        "entityConfig": "a0b5ee75f380e1f0",
        "version": 0,
        "state": "payload.container_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1170,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "8dc911fee4c4b77b",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head2SuppName",
        "entityConfig": "0336e585822d6738",
        "version": 0,
        "state": "payload.supplement.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1170,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "e46e2914a1e5adad",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head2DosedToday",
        "entityConfig": "8db87c4539797afc",
        "version": 0,
        "state": "payload.today_auto_dosed_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1170,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "2387997495d14cc0",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head2DailyDose",
        "entityConfig": "7d384937792c9d86",
        "version": 0,
        "state": "payload.schedule.dd",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1170,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "76ffdbd0d6f1c569",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head2SuppShortName",
        "entityConfig": "64d4c459cd31d03a",
        "version": 0,
        "state": "payload.supplement.short_name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1190,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "f61e536105bda2fb",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head3Remaining",
        "entityConfig": "ee9d565c6f7932f2",
        "version": 0,
        "state": "payload.container_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1410,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "e7df774e76442476",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head3SuppName",
        "entityConfig": "717a438c0c1ad2b4",
        "version": 0,
        "state": "payload.supplement.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1410,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "0dcb2e0439d4c37c",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head3DosedToday",
        "entityConfig": "628ae3ba3c61f832",
        "version": 0,
        "state": "payload.today_auto_dosed_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1410,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "cbabaa5a7b975b93",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head3DailyDose",
        "entityConfig": "83ad6f2d56267cbf",
        "version": 0,
        "state": "payload.schedule.dd",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1410,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "1d1ff6b7af2ebe0d",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head3SuppShortName",
        "entityConfig": "85adae44ea93027a",
        "version": 0,
        "state": "payload.supplement.short_name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1430,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "64db713440891d9b",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head4Remaining",
        "entityConfig": "cd09158a14612668",
        "version": 0,
        "state": "payload.container_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1650,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "288baa5706a01397",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head4SuppName",
        "entityConfig": "d4c7de5f22cd0674",
        "version": 0,
        "state": "payload.supplement.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1650,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "8a32d9de8a6793e9",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head4DosedToday",
        "entityConfig": "3faa22a034cb4334",
        "version": 0,
        "state": "payload.today_auto_dosed_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1650,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "e32cdff36e602a58",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head4DailyDose",
        "entityConfig": "f0dd2ea7b91c3f1f",
        "version": 0,
        "state": "payload.schedule.dd",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1650,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "07f432a7332790d6",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head4SuppShortName",
        "entityConfig": "1797d4fa36801d98",
        "version": 0,
        "state": "payload.supplement.short_name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1670,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "f18274330574aff7",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump2Type",
        "entityConfig": "d751b9a98d6b3c6b",
        "version": 0,
        "state": "payload.pump_2.type",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1070,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "ee7448d2ecd725d7",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump2Name",
        "entityConfig": "a5d17d3f9e250603",
        "version": 0,
        "state": "payload.pump_2.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1070,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "b975d70bc09a6a6a",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump2Temperature",
        "entityConfig": "b86b722722e064a6",
        "version": 0,
        "state": "payload.pump_2.temperature",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1090,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "e78b7a3be8d63f56",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Pump2Speed",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "fdb3f48ee1b73376",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.pump_2.intensity",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1070,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "ee13b72a0ef4f4be",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1140,
        "wires": [
            [
                "d4f690342df983b7",
                "4f765cbd20c3466a"
            ]
        ]
    },
    {
        "id": "2e2296cf354759bb",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"mode\":\"off\"}",
        "payloadType": "json",
        "x": 110,
        "y": 1200,
        "wires": [
            [
                "adeb69994d1ceb1f"
            ]
        ]
    },
    {
        "id": "1e06680288c92652",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1080,
        "wires": [
            [
                "d4f690342df983b7",
                "682c87048530fe41"
            ]
        ]
    },
    {
        "id": "a9bd0e304ea9bd1a",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 15 Minutes",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"mode\":\"off\"}",
        "payloadType": "json",
        "x": 150,
        "y": 1080,
        "wires": [
            [
                "19902e776ba5c264"
            ]
        ]
    },
    {
        "id": "682c87048530fe41",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatModel",
        "entityConfig": "f77f5ec5d961c4f6",
        "version": 0,
        "state": "payload.model",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 920,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "e1d40ea445d4bba4",
        "type": "ha-button",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatAdvance",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "00519b0a4cd0ae64",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 110,
        "y": 1140,
        "wires": [
            [
                "adeb69994d1ceb1f"
            ]
        ]
    },
    {
        "id": "ed5921976ec1c90e",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "body",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 2020,
        "wires": [
            [
                "b486d624e7678961",
                "7b1cddce1b390dcf",
                "eb0187f08c547918"
            ]
        ]
    },
    {
        "id": "d020aea2bba47bda",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 1 Hour",
        "props": [],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 160,
        "y": 2020,
        "wires": [
            [
                "399c7e2d2b29ab59"
            ]
        ]
    },
    {
        "id": "b486d624e7678961",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 120",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1980,
        "wires": []
    },
    {
        "id": "05ca3e3f06722232",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "body",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 950,
        "y": 1940,
        "wires": [
            []
        ]
    },
    {
        "id": "233a59644b9f4b94",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 1940,
        "wires": [
            [
                "8f43ab0bd7e78a84"
            ]
        ]
    },
    {
        "id": "8f43ab0bd7e78a84",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveMakerSettingsPreviewPayload",
        "func": "if (global.get(\"RSReefWave\")) {\n    msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/preview\"\n    node.send\n}\nelse { node.warn(\"No ReefWave Devices Found\"); return }\n\nnode.warn(\"NEWSTATE: \" + msg.payload)\n\n// The value is the payload\nvar newState = msg.payload\n\n// Default value for testing\nif (!msg.payload) { newState = \"auto\" }\n\nmsg.payload = {\n    \"direction\": \"fw\",\n    \"frt\": 9,\n    \"pd\": 6,\n    //\"pump_settings\": [\n    //    {\n    //        \"fti\": 100,\n    //        \"hwid\": \"16422546\",\n    //        \"rti\": 100\n    //    }\n    //],\n    \"rrt\": 5,\n    \"sn\": 3,\n    \"type\": \"un\",\n    \"duration\": 3000,\n    \"fti\": 10,\n    \"rti\": 10,\n    \"sync\": true\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1940,
        "wires": [
            [
                "05ca3e3f06722232"
            ]
        ]
    },
    {
        "id": "0a54e7e6c5feb37a",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "Wavemaker - post feeding time",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "body",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1350,
        "y": 2100,
        "wires": [
            [
                "ec3f72d06e5b7656"
            ]
        ]
    },
    {
        "id": "a8fc331faa37471d",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 2100,
        "wires": [
            [
                "b65a3c00a4735b93"
            ]
        ]
    },
    {
        "id": "bf21d96081cb8f2e",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveMakerFeedSchedulePayload",
        "func": "\n\n//node.warn(\"NEWSTATE: \" + msg.payload)\n\n// The value is the payload\n//var newState = msg.payload\n\n// Default value for testing\n//if (!msg.payload) { newState = \"auto\" }\n\n// Looks like wavemaker only takes mode. Not sure what the modes are yet...\n/*\nmsg.payload = {\n    \"pump_settings\": [\n        {\n            \"fti\": 90,\n            \"hwid\": \"16422546\",\n            \"rti\": 100,\n            \"sync\": true\n        }\n    ]\n}\n\nmsg.payload = {\n    \"direction\": \"fw\",\n    \"frt\": 9,\n    \"pd\": 6,\n    //\"pump_settings\": [\n    //    {\n    //        \"fti\": 100,\n    //        \"hwid\": \"16422546\",\n    //        \"rti\": 100\n    //    }\n    //],\n    \"rrt\": 5,\n    \"sn\": 3,\n    \"type\": \"un\",\n    \"duration\": 20000,\n    \"fti\": 10,\n    \"rti\": 10,\n    \"sync\": true\n}\nmsg.payload = \n{\n    \"intervals\": [\n        {\n            \"duration\": 26,\n            \"wave_uid\": \"b311c901-6839-497d-b0f7-9d018865f025\"\n        }\n    ],\n    \"uid\": \"b311c901-6839-497d-b0f7-9d018865f025\"\n}\n*/\n//node.warn(msg)\n\nmsg.url = \"http://\" + global.get(\"RSReefWaveIP\") + \"/feeding/schedule\"\n\nvar uid = msg.payload.uid\nvar wave_uid = msg.payload.intervals[0].wave_uid\nmsg.payload =\n{\n    \"in_sync\": true,\n        \"intervals\": [\n            {\n                \"duration\": msg.newValue,\n                \"name\": \"No Wave\",\n                \"type\": \"nw\",\n                \"wave_uid\": wave_uid\n            }\n        ],\n        \"uid\": uid\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 2100,
        "wires": [
            [
                "0a54e7e6c5feb37a",
                "ec3f72d06e5b7656"
            ]
        ]
    },
    {
        "id": "778616bf3511dc21",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "body",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 2100,
        "wires": [
            [
                "bf21d96081cb8f2e",
                "0f9176095ad80dc1"
            ]
        ]
    },
    {
        "id": "7b1cddce1b390dcf",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveFeedSchedule1Name",
        "entityConfig": "1f66910c43d561ea",
        "version": 0,
        "state": "payload.intervals[0].name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1000,
        "y": 1980,
        "wires": [
            []
        ]
    },
    {
        "id": "eb0187f08c547918",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveFeedSchedule1Duration",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "82e95b0691de1b05",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.intervals[0].duration",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1000,
        "y": 2020,
        "wires": [
            []
        ]
    },
    {
        "id": "7bc683379223f98c",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveFeedSchedule1Duration",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "82e95b0691de1b05",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload.intervals[0].duration",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "newValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 180,
        "y": 2140,
        "wires": [
            [
                "b65a3c00a4735b93"
            ]
        ]
    },
    {
        "id": "f2bcf39deae1bede",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 2740,
        "wires": [
            [
                "ab49d2ecd4467f5e",
                "a0b18e314c7ed4e4"
            ]
        ]
    },
    {
        "id": "1ab2ec0feae15f97",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "GetTokenPayload",
        "func": "msg.headers = {\n    \"Authorization\": \"Basic Z0ZqSHRKcGE6Qzlmb2d3cmpEV09SVDJHWQ==\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n};\n\nmsg.url = \"https://cloud.reef-beat.com/oauth/token\"\n\nmsg.payload = \"grant_type=password&username=\" + global.get(\"RSUser\") + \"&password=\" + global.get(\"RSPass\");\n\n\nif (global.get(\"RSReefWave\")) { node.send }\nelse { node.warn(\"No ReefWave Devices Found\"); return }\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 2740,
        "wires": [
            [
                "f2bcf39deae1bede"
            ]
        ]
    },
    {
        "id": "ab49d2ecd4467f5e",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 122",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 2700,
        "wires": []
    },
    {
        "id": "c9b10642b11784c0",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Red Sea WaveMaker - Cloud",
        "info": "",
        "x": 180,
        "y": 2220,
        "wires": []
    },
    {
        "id": "bc71889d117efdc8",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetCurrentWaveValues",
        "func": "var activeSchedule = global.get(\"WaveActiveSchedule\")\n\n//node.warn(activeSchedule)\nlet match = false\nfor (let i = 0; i < msg.payload.length; i++) {\n    //node.warn(msg.payload[i].name);\n    if (activeSchedule == msg.payload[i].name){\n        match = true\n        global.set(\"WaveActiveScheduleUID\", msg.payload[i].uid)\n        global.set(\"WaveActiveScheduleFRT\", msg.payload[i].frt)\n        global.set(\"WaveActiveScheduleRRT\", msg.payload[i].rrt)\n        global.set(\"WaveActiveSchedulePD\", msg.payload[i].pd)\n        global.set(\"WaveActiveScheduleHWID\", msg.payload[i].pump_settings[0].hwid)\n        global.set(\"WaveActiveScheduleFTI\", msg.payload[i].pump_settings[0].fti) \n        global.set(\"WaveActiveScheduleRTI\", msg.payload[i].pump_settings[0].rti) \n        msg.payload = {\n            \"uid\": msg.payload[i].uid,\n            \"name\": msg.payload[i].name,\n            \"frt\": msg.payload[i].frt,\n            \"rrt\": msg.payload[i].rrt,\n            \"pd\":  msg.payload[i].pd,\n            \"hwid\": msg.payload[i].pump_settings[0].hwid,\n            \"fti\": msg.payload[i].pump_settings[0].fti,\n            \"rti\": msg.payload[i].pump_settings[0].rti,\n            \"sync\": msg.payload[i].pump_settings[0].sync\n        }\n        // Return on first output\n        return [ msg, null ];\n    }\n}\nif (match == false){\n    node.warn(\"No matching wave in library\")\n    msg.payload = \"ERROR: No matching wave in library\"\n    // Return on second output\n    return [null, msg]\n}\n//return msg;",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 2740,
        "wires": [
            [
                "996af4bf1d646132",
                "09bdf0c5ac1184b0",
                "83b2c16b0807aae5",
                "060b43236a711259",
                "e7c38f02a8520b85",
                "bd798aca0318dec7",
                "7899036784f2f18a"
            ],
            [
                "5331139225b57961"
            ]
        ]
    },
    {
        "id": "665790a231dede0e",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1150,
        "y": 2740,
        "wires": [
            [
                "bc71889d117efdc8",
                "1c6a305c462e382f"
            ]
        ]
    },
    {
        "id": "1c6a305c462e382f",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 129",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 2700,
        "wires": []
    },
    {
        "id": "a0b18e314c7ed4e4",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetTokenGetUID",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token,\n    \"Content-Type\": \"application/json\"\n}\nflow.set(\"auth_token\", msg.payload.access_token)\n//node.warn(flow.get(\"auth_token\"))\nmsg.url = \"https://cloud.reef-beat.com/reef-wave/library\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 2740,
        "wires": [
            [
                "665790a231dede0e"
            ]
        ]
    },
    {
        "id": "82ad56da39fd49aa",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 130",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1630,
        "y": 2280,
        "wires": []
    },
    {
        "id": "a22ee84d4f7cbde4",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 2320,
        "wires": [
            [
                "2cc808bea0b8bcd8"
            ]
        ]
    },
    {
        "id": "4767286d268ef220",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 690,
        "y": 2320,
        "wires": [
            [
                "4c2de54a8fb46514",
                "74cc394b29789046"
            ]
        ]
    },
    {
        "id": "2cc808bea0b8bcd8",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "GetTokenPayload",
        "func": "flow.set(\"SetFeedMode\", msg.payload)\n\nmsg.headers = {\n    \"Authorization\": \"Basic Z0ZqSHRKcGE6Qzlmb2d3cmpEV09SVDJHWQ==\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n};\n\nmsg.url = \"https://cloud.reef-beat.com/oauth/token\"\n\nmsg.payload = \"grant_type=password&username=\" + global.get(\"RSUser\") + \"&password=\" + global.get(\"RSPass\");\n\n\nif (global.get(\"RSReefWave\")) {node.send}\nelse { node.warn(\"No ReefWave Devices Found\"); return }\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 2320,
        "wires": [
            [
                "4767286d268ef220"
            ]
        ]
    },
    {
        "id": "4c2de54a8fb46514",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 132",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 2280,
        "wires": []
    },
    {
        "id": "74cc394b29789046",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetTokenGetUID",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token,\n    \"Content-Type\": \"application/json\"\n}\nflow.set(\"auth_token\", msg.payload.access_token)\n//node.warn(flow.get(\"auth_token\"))\nmsg.url = \"https://cloud.reef-beat.com/aquarium\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 2320,
        "wires": [
            [
                "620d29f0299decb6"
            ]
        ]
    },
    {
        "id": "620d29f0299decb6",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1150,
        "y": 2320,
        "wires": [
            [
                "648dc4d24ab38d0b",
                "a8b304a2336b23eb"
            ]
        ]
    },
    {
        "id": "648dc4d24ab38d0b",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 133",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 2280,
        "wires": []
    },
    {
        "id": "a8b304a2336b23eb",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetTokenURLFeedMode",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + flow.get(\"auth_token\"),\n    \"Content-Type\": \"application/json\"\n}\nif (flow.get(\"SetFeedMode\") == \"start\") {\n    msg.url = \"https://cloud.reef-beat.com/aquarium/\" + msg.payload[0].uid + \"/feeding/start\"\n}\nelse {\n    msg.url = \"https://cloud.reef-beat.com/aquarium/\" + msg.payload[0].uid + \"/feeding/stop\"\n}\n//node.warn(msg.url)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 2320,
        "wires": [
            [
                "471807bf187a96b6",
                "15fdc5b6a77dd4bb"
            ]
        ]
    },
    {
        "id": "471807bf187a96b6",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1630,
        "y": 2320,
        "wires": [
            [
                "82ad56da39fd49aa",
                "7b1b7a6a82a20392"
            ]
        ]
    },
    {
        "id": "15fdc5b6a77dd4bb",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 134",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1370,
        "y": 2280,
        "wires": []
    },
    {
        "id": "1f200b46bb8f684a",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveForwardIntensity",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "a2b7f110d698c4df",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "fti",
                "valueType": "str"
            }
        ],
        "x": 160,
        "y": 2480,
        "wires": [
            [
                "822dfec83e15372b"
            ]
        ]
    },
    {
        "id": "128b5d53eada0a5e",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveReverseIntensity",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "d1f79ffc05882bda",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "rti",
                "valueType": "str"
            }
        ],
        "x": 160,
        "y": 2520,
        "wires": [
            [
                "822dfec83e15372b"
            ]
        ]
    },
    {
        "id": "17c0ab45f3eb4110",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveForwardTime",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "6c4fa4d696136e6e",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "frt",
                "valueType": "str"
            }
        ],
        "x": 150,
        "y": 2560,
        "wires": [
            [
                "822dfec83e15372b"
            ]
        ]
    },
    {
        "id": "4268fc57612784aa",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveReverseTime",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "a15b5eb2ffc5cb40",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "rrt",
                "valueType": "str"
            }
        ],
        "x": 150,
        "y": 2600,
        "wires": [
            [
                "822dfec83e15372b"
            ]
        ]
    },
    {
        "id": "de663c67a8187d97",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetActiveSchedule",
        "func": "global.set(\"WaveActiveSchedule\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 2680,
        "wires": [
            [
                "1ab2ec0feae15f97",
                "ab37a50217886889"
            ]
        ]
    },
    {
        "id": "30c78aae2ad05801",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "Aquarium",
        "info": "https://cloud.reef-beat.com/device\nreturns:\n[\n    {\n        \"aquarium_id\": 203621,\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"board\": \"esp32\",\n        \"bssid\": \"3C:84:6A:1B:5B:2E\",\n        \"connected\": true,\n        \"firmware_version\": \"1.2.11\",\n        \"framework\": \"a\",\n        \"group_index\": 0,\n        \"grouped\": false,\n        \"hwid\": \"34ab9545eb30\",\n        \"id\": 388587,\n        \"in_service\": true,\n        \"ip_address\": \"192.168.68.125\",\n        \"last_seen\": \"2025-03-05T04:17:08.903054Z\",\n        \"mac\": \"34:AB:95:45:EB:30\",\n        \"model\": \"RSDOSE4\",\n        \"name\": \"RSDOSE4-820725141\",\n        \"offset\": 0,\n        \"onboarding_date\": \"2022-06-30T02:58:49.834672Z\",\n        \"previously_grouped\": false,\n        \"properties\": {\n            \"battery_level\": \"high\",\n            \"calibration_reminder\": false,\n            \"calibration_reminder_days\": 60,\n            \"calibration_reminder_steps\": 35000,\n            \"daily_metrics_last_compute_time\": 1741132800,\n            \"device_settings\": {\n                \"auto_fill_schedule\": false,\n                \"bundled_heads\": false,\n                \"shortcut_off_delay\": 0\n            },\n            \"dosing_waiting_period\": 15,\n            \"emergency\": false,\n            \"emergency_1\": {\n                \"subscribed\": false\n            },\n            \"factory_reset_time\": 1656593378,\n            \"feeding\": false,\n            \"feeding_1\": {\n                \"duration\": 20,\n                \"subscribed\": false\n            },\n            \"feeding_duration\": 20,\n            \"file_error\": false,\n            \"heads\": {\n                \"1\": {\n                    \"daily_dose\": 90,\n                    \"days\": [\n                        1,\n                        2,\n                        3,\n                        4,\n                        5,\n                        6,\n                        7\n                    ],\n                    \"dc\": true,\n                    \"dd\": 90,\n                    \"enable_ratio\": true,\n                    \"food_delay\": 0,\n                    \"is_food_head\": false,\n                    \"last_calibrated\": 1656594173,\n                    \"nd\": 24,\n                    \"schedule_enabled\": true,\n                    \"schedule_type\": \"hourly\",\n                    \"show\": true,\n                    \"slm\": true,\n                    \"state\": \"on\",\n                    \"supplement\": {\n                        \"brand_name\": \"Red Sea\",\n                        \"concentration\": 0,\n                        \"display_name\": \"KH\",\n                        \"made_by_redsea\": true,\n                        \"name\": \"KH/Alkalinity (Foundation B)\",\n                        \"short_name\": \"KH\",\n                        \"type\": \"null\",\n                        \"uid\": \"76830db3-a0bd-459a-9974-76a57d026893\"\n                    },\n                    \"vps\": 0.056061\n                },\n                \"2\": {\n                    \"daily_dose\": 90,\n                    \"days\": [\n                        1,\n                        2,\n                        3,\n                        4,\n                        5,\n                        6,\n                        7\n                    ],\n                    \"dc\": true,\n                    \"dd\": 90,\n                    \"enable_ratio\": true,\n                    \"food_delay\": 0,\n                    \"is_food_head\": false,\n                    \"last_calibrated\": 1656594359,\n                    \"nd\": 24,\n                    \"schedule_enabled\": true,\n                    \"schedule_type\": \"hourly\",\n                    \"show\": true,\n                    \"slm\": true,\n                    \"state\": \"on\",\n                    \"supplement\": {\n                        \"brand_name\": \"Red Sea\",\n                        \"concentration\": 0,\n                        \"display_name\": \"Calcium\",\n                        \"made_by_redsea\": true,\n                        \"name\": \"Calcium (Foundation A)\",\n                        \"short_name\": \"Ca\",\n                        \"type\": \"null\",\n                        \"uid\": \"7d67412c-fde0-44d4-882a-dc8746fd4acb\"\n                    },\n                    \"vps\": 0.060606\n                },\n                \"3\": {\n                    \"daily_dose\": 95,\n                    \"days\": [\n                        1,\n                        2,\n                        3,\n                        4,\n                        5,\n                        6,\n                        7\n                    ],\n                    \"dc\": true,\n                    \"dd\": 95,\n                    \"enable_ratio\": true,\n                    \"food_delay\": 0,\n                    \"is_food_head\": false,\n                    \"last_calibrated\": 1656594527,\n                    \"nd\": 24,\n                    \"schedule_enabled\": true,\n                    \"schedule_type\": \"hourly\",\n                    \"show\": true,\n                    \"slm\": true,\n                    \"state\": \"on\",\n                    \"supplement\": {\n                        \"brand_name\": \"Red Sea\",\n                        \"concentration\": 0,\n                        \"display_name\": \"Magnesium\",\n                        \"made_by_redsea\": true,\n                        \"name\": \"Magnesium (Foundation C)\",\n                        \"short_name\": \"Mg\",\n                        \"type\": \"null\",\n                        \"uid\": \"f524734e-8651-496e-b09b-640b40fc8bab\"\n                    },\n                    \"vps\": 0.059091\n                },\n                \"4\": {\n                    \"daily_dose\": 5,\n                    \"days\": [\n                        1,\n                        2,\n                        3,\n                        4,\n                        5,\n                        6,\n                        7\n                    ],\n                    \"dc\": true,\n                    \"dd\": 5,\n                    \"enable_ratio\": true,\n                    \"food_delay\": 0,\n                    \"is_food_head\": false,\n                    \"last_calibrated\": 1656594792,\n                    \"nd\": 1,\n                    \"schedule_enabled\": true,\n                    \"schedule_type\": \"single\",\n                    \"show\": true,\n                    \"slm\": true,\n                    \"state\": \"on\",\n                    \"supplement\": {\n                        \"brand_name\": \"Red Sea\",\n                        \"concentration\": 0,\n                        \"display_name\": \"Nutrient control\",\n                        \"made_by_redsea\": true,\n                        \"name\": \"NO3PO4-X\",\n                        \"short_name\": \"NPX\",\n                        \"type\": \"null\",\n                        \"uid\": \"ffaf6ff8-bc6d-44eb-9e4b-e679943dc835\"\n                    },\n                    \"vps\": 0.060606\n                }\n            },\n            \"maintenance\": false,\n            \"maintenance_1\": {\n                \"subscribed\": false\n            },\n            \"missed_doses_reminder\": true,\n            \"mode\": \"auto\",\n            \"ntp_sync\": true,\n            \"shortcut_settings\": {\n                \"shortcut_off_delay\": 0\n            },\n            \"start_of_schedule_for_next_day\": 0,\n            \"stock_alert_days\": 10,\n            \"time_error\": false,\n            \"time_error_unixtime\": 0,\n            \"timezone\": 600,\n            \"turned_off\": false\n        },\n        \"ssid\": \"MarKel\",\n        \"type\": \"reef-dosing\"\n    },\n    {\n        \"aquarium_id\": 203621,\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"board\": \"esp32\",\n        \"connected\": true,\n        \"firmware_version\": \"1.9.1\",\n        \"framework\": \"i\",\n        \"group_index\": 0,\n        \"grouped\": false,\n        \"hw_revision\": \"v0.1_21A\",\n        \"hwid\": \"94b5557ea464\",\n        \"id\": 650831,\n        \"in_service\": true,\n        \"ip_address\": \"192.168.68.92\",\n        \"last_seen\": \"2025-03-05T04:17:10.084597Z\",\n        \"mac\": \"94:B5:55:7E:A4:64\",\n        \"model\": \"RSMAT500\",\n        \"name\": \"RSMAT-1688501845\",\n        \"offset\": 0,\n        \"onboarding_date\": \"2024-03-05T07:26:45.286813Z\",\n        \"previously_grouped\": false,\n        \"properties\": {\n            \"auto_advance\": true,\n            \"cumulative_steps\": 236,\n            \"daily_average_usage\": 26.972900390625,\n            \"days_till_end_of_roll\": 100,\n            \"device_settings\": {\n                \"auto_advance\": true,\n                \"custom_advance_value\": 2.25,\n                \"end_of_roll_monitor\": 3,\n                \"fresh_water_aquarium\": false,\n                \"model\": \"RSMAT500\",\n                \"position\": \"right\",\n                \"schedule_enable\": false,\n                \"schedule_length\": 20,\n                \"schedule_time\": 0\n            },\n            \"device_setup_date\": 1660259660,\n            \"emergency\": false,\n            \"emergency_1\": {\n                \"subscribed\": false\n            },\n            \"external_ec_average\": 0,\n            \"internal_ec_average\": 0,\n            \"is_advancing\": false,\n            \"last_advance_cause\": \"self_test\",\n            \"lifetime_steps\": 107316,\n            \"maintenance\": false,\n            \"maintenance_1\": {\n                \"subscribed\": false\n            },\n            \"material\": {\n                \"external_diameter\": 10.105999946594238,\n                \"is_partial\": false,\n                \"name\": \"28 Meter\",\n                \"thickness\": 0.02370000071823597\n            },\n            \"mode\": \"auto\",\n            \"remaining_length\": 2717.28759765625,\n            \"roll_level\": \"full\",\n            \"setup_date\": \"2025-03-05T12:38:22Z\",\n            \"timezone\": 600,\n            \"today_usage\": 59.46120071411133,\n            \"total_usage\": 82.6792984008789,\n            \"turned_off\": false,\n            \"unclean_sensor\": false\n        },\n        \"ssid\": \"MarKel\",\n        \"type\": \"reef-mat\"\n    },\n    {\n        \"aquarium_id\": 203621,\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"board\": \"esp32\",\n        \"bssid\": \"3C:84:6A:1B:5B:2E\",\n        \"connected\": true,\n        \"firmware_version\": \"1.0.21\",\n        \"framework\": \"i\",\n        \"group_index\": 0,\n        \"grouped\": false,\n        \"hw_revision\": \"v1_22A\",\n        \"hwid\": \"349454ea62b4\",\n        \"id\": 828547,\n        \"in_service\": true,\n        \"ip_address\": \"192.168.68.213\",\n        \"last_seen\": \"2025-03-04T14:30:22.603724Z\",\n        \"mac\": \"34:94:54:EA:62:B4\",\n        \"model\": \"RSRUN\",\n        \"name\": \"RSRUN-3026381396\",\n        \"offset\": 0,\n        \"onboarding_date\": \"2025-03-02T03:23:31.664112Z\",\n        \"previously_grouped\": false,\n        \"properties\": {\n            \"battery_level\": \"high\",\n            \"device_settings\": {\n                \"calibration\": {\n                    \"cup_calibration\": 0,\n                    \"skim_calibration\": 0\n                },\n                \"fullcup_enabled\": true,\n                \"linked\": false,\n                \"overskimming\": {\n                    \"enabled\": true,\n                    \"threshold\": 55\n                },\n                \"restore_settings\": true,\n                \"synced\": true\n            },\n            \"ec_sensor_connected\": false,\n            \"emergency\": false,\n            \"emergency_1\": {\n                \"pump_1\": {\n                    \"subscribed\": false\n                },\n                \"pump_2\": {\n                    \"subscribed\": false\n                }\n            },\n            \"feeding\": false,\n            \"feeding_1\": {\n                \"pump_1\": {\n                    \"delay\": 0,\n                    \"duration\": 1800,\n                    \"intensity\": 0,\n                    \"subscribed\": false\n                },\n                \"pump_2\": {\n                    \"delay\": 0,\n                    \"duration\": 1800,\n                    \"intensity\": 0,\n                    \"subscribed\": false\n                }\n            },\n            \"feeding_duration\": 30,\n            \"initial\": false,\n            \"maintenance\": false,\n            \"maintenance_1\": {\n                \"pump_1\": {\n                    \"subscribed\": false\n                },\n                \"pump_2\": {\n                    \"subscribed\": false\n                }\n            },\n            \"mode\": \"auto\",\n            \"pumps\": {\n                \"1\": {\n                    \"intensity\": 50,\n                    \"missing_pump\": false,\n                    \"missing_sensor\": false,\n                    \"model\": \"return-6\",\n                    \"name\": \"Chiller\",\n                    \"reconnect_pump\": false,\n                    \"schedule\": [\n                        {\n                            \"pd\": 0,\n                            \"st\": 0,\n                            \"ti\": 50\n                        }\n                    ],\n                    \"schedule_enabled\": true,\n                    \"sensor_controlled\": false,\n                    \"state\": \"operational\",\n                    \"type\": \"return\"\n                },\n                \"2\": {\n                    \"intensity\": 50,\n                    \"missing_pump\": false,\n                    \"missing_sensor\": false,\n                    \"model\": \"unknown\",\n                    \"name\": \"\",\n                    \"reconnect_pump\": false,\n                    \"schedule\": [\n                        {\n                            \"pd\": 0,\n                            \"st\": 0,\n                            \"ti\": 50\n                        }\n                    ],\n                    \"schedule_enabled\": false,\n                    \"sensor_controlled\": false,\n                    \"state\": \"operational\",\n                    \"type\": \"unknown\"\n                }\n            },\n            \"shortcut_settings\": {\n                \"pump_1\": {\n                    \"pump_on_delayed\": false,\n                    \"shortcut_off_delay\": 0\n                },\n                \"pump_2\": {\n                    \"pump_on_delayed\": false,\n                    \"shortcut_off_delay\": 0\n                }\n            },\n            \"shortcuts\": {\n                \"pump_1\": {\n                    \"emergency\": false,\n                    \"feeding\": {\n                        \"delay\": 0,\n                        \"duration\": 1800,\n                        \"enabled\": false,\n                        \"intensity\": 0\n                    },\n                    \"maintenance\": false,\n                    \"pump_on_delayed\": false,\n                    \"shortcut_off_delay\": 0\n                },\n                \"pump_2\": {\n                    \"emergency\": false,\n                    \"feeding\": {\n                        \"delay\": 0,\n                        \"duration\": 1800,\n                        \"enabled\": false,\n                        \"intensity\": 0\n                    },\n                    \"maintenance\": false,\n                    \"pump_on_delayed\": false,\n                    \"shortcut_off_delay\": 0\n                }\n            },\n            \"time_error\": false,\n            \"timezone\": 600,\n            \"turned_off\": false\n        },\n        \"ssid\": \"MarKel\",\n        \"type\": \"reef-run\"\n    },\n    {\n        \"aquarium_id\": 203621,\n        \"aquarium_uid\": \"3445b1e3-453e-4129-b53d-609a57314940\",\n        \"board\": \"esp8266\",\n        \"connected\": true,\n        \"firmware_version\": \"2.10.4\",\n        \"framework\": \"a\",\n        \"group_index\": 0,\n        \"grouped\": true,\n        \"hwid\": \"16422546\",\n        \"id\": 457491,\n        \"in_service\": true,\n        \"ip_address\": \"192.168.68.128\",\n        \"last_seen\": \"2025-03-05T09:02:26.865445Z\",\n        \"mac\": \"A4:CF:12:FA:96:92\",\n        \"model\": \"RSWAVE45\",\n        \"name\": \"RSWAVE45-16422546\",\n        \"offset\": 0,\n        \"onboarding_date\": \"2023-01-05T07:09:20.859208Z\",\n        \"previously_grouped\": false,\n        \"properties\": {\n            \"controlling-mode\": \"reef-beat\",\n            \"device_settings\": {\n                \"shortcut_off_delay\": 0\n            },\n            \"emergency\": false,\n            \"emergency_1\": {\n                \"subscribed\": false\n            },\n            \"feeding\": true,\n            \"feeding_1\": {\n                \"intervals\": [\n                    {\n                        \"duration\": 21,\n                        \"name\": \"No Wave\",\n                        \"type\": \"nw\",\n                        \"wave_uid\": \"b311c901-6839-497d-b0f7-9d018865f025\"\n                    }\n                ],\n                \"subscribed\": true,\n                \"uid\": \"0c7ab0d6-7713-4e0d-935a-55af85d893d4\"\n            },\n            \"feeding_duration\": 20,\n            \"feeding_schedule\": {\n                \"hash\": \"30255e4eb1284c5d6b1562dd09712153\",\n                \"uid\": \"0c7ab0d6-7713-4e0d-935a-55af85d893d4\"\n            },\n            \"maintenance\": false,\n            \"maintenance_1\": {\n                \"subscribed\": false\n            },\n            \"mode\": \"auto\",\n            \"schedule\": {\n                \"hash\": \"285b6cbe1c932fddc0639caaa050e823\",\n                \"uid\": \"f44fe69c-9614-4587-8345-c56c75929a9a\"\n            },\n            \"shortcut_settings\": {\n                \"shortcut_off_delay\": 0\n            },\n            \"timezone\": 600,\n            \"turned_off\": false\n        },\n        \"ssid\": \"MarKel\",\n        \"type\": \"reef-wave\"\n    }\n]",
        "x": 100,
        "y": 60,
        "wires": []
    },
    {
        "id": "6c68736fb287bc72",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "This Third",
        "props": [],
        "repeat": "7200",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "0a3eebdf61ed02ce"
            ]
        ]
    },
    {
        "id": "dd23aec0b3659433",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "Get Token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://cloud.reef-beat.com/oauth/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 260,
        "wires": [
            [
                "c6885b323520a787",
                "bd1d9cf2ec311e80"
            ]
        ]
    },
    {
        "id": "0a3eebdf61ed02ce",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "GetTokenPayload",
        "func": "msg.headers = {\n    \"Authorization\": \"Basic Z0ZqSHRKcGE6Qzlmb2d3cmpEV09SVDJHWQ==\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n};\n\nmsg.payload = \"grant_type=password&username=\" + global.get(\"RSUser\") + \"&password=\" + global.get(\"RSPass\");\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 260,
        "wires": [
            [
                "dd23aec0b3659433"
            ]
        ]
    },
    {
        "id": "c6885b323520a787",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 136",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 220,
        "wires": []
    },
    {
        "id": "bd1d9cf2ec311e80",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "Set Token",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token,\n    \"Content-Type\": \"application/json\"\n}\n\nflow.set(\"auth_token\", msg.payload.access_token)\n//node.warn(flow.get(\"auth_token\"))\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 260,
        "wires": [
            [
                "eca372aebecd1fe1",
                "53d514e7a128681b",
                "34c1be87e63e0835"
            ]
        ]
    },
    {
        "id": "eca372aebecd1fe1",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "Get Aquarium Info",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://cloud.reef-beat.com/aquarium",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1050,
        "y": 260,
        "wires": [
            [
                "3494aa3ea7b5f815",
                "d08ea755dafebdf4",
                "d9a4595d3db51f80",
                "59e2b76e4ea81f76"
            ]
        ]
    },
    {
        "id": "3494aa3ea7b5f815",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 137",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 220,
        "wires": []
    },
    {
        "id": "d08ea755dafebdf4",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "AquariumType",
        "entityConfig": "8b9dea3eac7d4ce8",
        "version": 0,
        "state": "payload[0].system_type",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1280,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d9a4595d3db51f80",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "AquariumVolume",
        "entityConfig": "388ce1ae97a61b74",
        "version": 0,
        "state": "payload[0].water_volume",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1290,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "59e2b76e4ea81f76",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "AquariumName",
        "entityConfig": "58bc98e249d76cc4",
        "version": 0,
        "state": "payload[0].name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1280,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "53d514e7a128681b",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "Get Device Info",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://cloud.reef-beat.com/device",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1040,
        "y": 300,
        "wires": [
            [
                "3494aa3ea7b5f815",
                "d205efc0ed9a42a2"
            ]
        ]
    },
    {
        "id": "d205efc0ed9a42a2",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetDeviceInfo",
        "func": "// This sets up global variables for the devices\nvar devices = \"Your devices:\"\nfor (let i=0; i < msg.payload.length; i++){\n    //node.warn(msg.payload[i])\n    if (msg.payload[i].type == \"reef-dosing\"){\n        global.set(\"RSReefDose\", true)\n        global.set(\"RSReefDoseHWID\", msg.payload[i].hwid)\n        global.set(\"RSReefDoseModel\", msg.payload[i].model)\n        global.set(\"RSReefDoseIP\", msg.payload[i].ip_address)\n    }\n    if (msg.payload[i].type == \"reef-mat\") {\n        global.set(\"RSReefMat\", true)\n        global.set(\"RSReefMatHWID\", msg.payload[i].hwid)\n        global.set(\"RSReefMatModel\", msg.payload[i].model)\n        global.set(\"RSReefMatIP\", msg.payload[i].ip_address)\n    }\n    if (msg.payload[i].type == \"reef-run\") {\n        global.set(\"RSReefRun\", true)\n        global.set(\"RSReefRunHWID\", msg.payload[i].hwid)\n        global.set(\"RSReefRunModel\", msg.payload[i].model)\n        global.set(\"RSReefRunIP\", msg.payload[i].ip_address)\n    }\n    if (msg.payload[i].type == \"reef-wave\") {\n        global.set(\"RSReefWave\", true)\n        global.set(\"RSReefWaveHWID\", msg.payload[i].hwid)\n        global.set(\"RSReefWaveModel\", msg.payload[i].model)\n        global.set(\"RSReefWaveIP\", msg.payload[i].ip_address)\n        global.set(\"RSReefWaveSchedule\", msg.payload[i].properties.schedule.uid)\n    }\n    if (msg.payload[i].type == \"reef-lights\") {\n        global.set(\"RSReefLights\", true)\n        global.set(\"RSReefLightsHWID\", msg.payload[i].hwid)\n        global.set(\"RSReefLightsModel\", msg.payload[i].model)\n        global.set(\"RSReefLightsIP\", msg.payload[i].ip_address) \n        //global.set(\"RSReefLightsSchedule\", msg.payload[i].properties.schedule.uid)\n    }\n    if (msg.payload[i].type == \"reef-ato\") {\n        global.set(\"RSReefATO\", true)\n        global.set(\"RSReefATOHWID\", msg.payload[i].hwid)\n        global.set(\"RSReefATOModel\", msg.payload[i].model)\n        global.set(\"RSReefATOIP\", msg.payload[i].ip_address)\n        //global.set(\"RSReefLightsSchedule\", msg.payload[i].properties.schedule.uid)\n    }\n    devices = devices + \"\\n \" + msg.payload[i].model.toString() + \" IP: \" + msg.payload[i].ip_address\n    //node.warn(devices)\n    //node.warn(msg.payload[i].model)\n}\n\nmsg.payload.devices = devices\n//node.warn(msg.payload.devices)\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 300,
        "wires": [
            [
                "e73ef57dc4d4fb85"
            ]
        ]
    },
    {
        "id": "9af672121c880de3",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefRun Settings",
        "func": "if (global.get(\"RSReefRun\")){\n    msg.url = \"http://\" + global.get(\"RSReefRunIP\") + \"/pump/settings\"\n}\nelse {node.warn(\"No ReefRun Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 560,
        "wires": [
            [
                "082781b4e625097f"
            ]
        ]
    },
    {
        "id": "082781b4e625097f",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 560,
        "wires": [
            [
                "0e85da27edbf79d4"
            ]
        ]
    },
    {
        "id": "9523cba9f72f9b28",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefRun Dashboard",
        "func": "if (global.get(\"RSReefRun\")){\n    msg.url = \"http://\" + global.get(\"RSReefRunIP\") + \"/dashboard\"\n}\nelse {node.warn(\"No ReefRun Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 660,
        "wires": [
            [
                "6d74ca27934d0816"
            ]
        ]
    },
    {
        "id": "fba0ff0039159589",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefMat Dashboard",
        "func": "if (global.get(\"RSReefMat\")){\n    msg.url = \"http://\" + global.get(\"RSReefMatIP\") + \"/dashboard\"\n}\nelse {node.warn(\"No ReefMat Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1020,
        "wires": [
            [
                "d91ffedd5a9a5745"
            ]
        ]
    },
    {
        "id": "19902e776ba5c264",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefMat Config",
        "func": "if (global.get(\"RSReefMat\")){\n    msg.url = \"http://\" + global.get(\"RSReefMatIP\") + \"/configuration\"\n}\nelse {node.warn(\"No ReefMat Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1080,
        "wires": [
            [
                "1e06680288c92652"
            ]
        ]
    },
    {
        "id": "adeb69994d1ceb1f",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefMat Advance",
        "func": "if (global.get(\"RSReefMat\")){\n    msg.url = \"http://\" + global.get(\"RSReefMatIP\") + \"/advance\"\n}\nelse {node.warn(\"No ReefMat Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1140,
        "wires": [
            [
                "ee13b72a0ef4f4be"
            ]
        ]
    },
    {
        "id": "477e1f3d9d452c80",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Trigger This Second",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 140,
        "wires": [
            [
                "6cb9d6e8a2c37989"
            ]
        ]
    },
    {
        "id": "6cb9d6e8a2c37989",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "Do this First: Enter ReefBeat Credentials Here Then Deploy Flow Then Trigger",
        "func": "// Put your ReefBeat app credentials here\nglobal.set(\"RSUser\", \"your@email.com\")\nglobal.set(\"RSPass\", \"YourPassword\")\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "034bf1bce0bd9e9a",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Settings",
        "func": "if (global.get(\"RSReefDose\")){\n    msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/1/settings\"\n}\nelse {node.warn(\"No ReefDose Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1400,
        "wires": [
            [
                "7891a0bc79e3955d"
            ]
        ]
    },
    {
        "id": "7493c8e1dd148e2e",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Settings",
        "func": "if (global.get(\"RSReefDose\")){\n    //if (global.get(\"RSReedDoseModel\") == \"RSDOSE4\"){\n    //    for (let i=1; i <=4; i++){\n            msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/3/settings\"\n    //        node.send\n    //    }\n    //}\n    //else {\n    //    return\n    //}\n}\nelse {node.warn(\"No ReefDose Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1480,
        "wires": [
            [
                "08b20658268d23b9"
            ]
        ]
    },
    {
        "id": "70fd1ec858f185d2",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Settings",
        "func": "if (global.get(\"RSReefDose\")){\n    msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/2/settings\"\n}\nelse {node.warn(\"No ReefDose Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1440,
        "wires": [
            [
                "f2a0ff5f6ce41d93"
            ]
        ]
    },
    {
        "id": "b00f8237d4278921",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Settings",
        "func": "if (global.get(\"RSReefDose\")){\n    //if (global.get(\"RSReedDoseModel\") == \"RSDOSE4\"){\n    //    for (let i=1; i <=4; i++){\n            msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/4/settings\"\n    //        node.send\n    //    }\n    //}\n    //else {\n    //    return\n    //}\n}\nelse {node.warn(\"No ReefDose Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1520,
        "wires": [
            [
                "7709b12466af1992"
            ]
        ]
    },
    {
        "id": "e16137ab58cb767d",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "FeedMode",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "12ba62e53d136fca",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 120,
        "y": 2400,
        "wires": [
            [
                "2cc808bea0b8bcd8"
            ]
        ]
    },
    {
        "id": "a346e8bbfa6e5bb7",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "FeedMode",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "d22bb1db97035f04",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 120,
        "y": 2360,
        "wires": [
            [
                "2cc808bea0b8bcd8"
            ]
        ]
    },
    {
        "id": "e73ef57dc4d4fb85",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "AquariumDevices",
        "entityConfig": "cb24db3794b124eb",
        "version": 0,
        "state": "payload.devices",
        "stateType": "msg",
        "attributes": [
            {
                "property": "IP",
                "value": "payload[0].ip_address",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1510,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "996af4bf1d646132",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveForwardIntensity",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "a2b7f110d698c4df",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.fti",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1660,
        "y": 2540,
        "wires": [
            []
        ]
    },
    {
        "id": "09bdf0c5ac1184b0",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveReverseIntensity",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "d1f79ffc05882bda",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.rti",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1660,
        "y": 2580,
        "wires": [
            []
        ]
    },
    {
        "id": "83b2c16b0807aae5",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveForwardTime",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "6c4fa4d696136e6e",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.frt",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1650,
        "y": 2620,
        "wires": [
            []
        ]
    },
    {
        "id": "060b43236a711259",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveReverseTime",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "a15b5eb2ffc5cb40",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.rrt",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1650,
        "y": 2660,
        "wires": [
            []
        ]
    },
    {
        "id": "e7c38f02a8520b85",
        "type": "ha-text",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveActiveScheduleName",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "68b3509ab6511a7c",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.name",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1670,
        "y": 2740,
        "wires": [
            []
        ]
    },
    {
        "id": "89a97bfc8fb85e15",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WavePulseTime",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "cf4df60b0dfe2ee3",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "chageItem",
                "propertyType": "msg",
                "value": "pd",
                "valueType": "str"
            }
        ],
        "x": 140,
        "y": 2640,
        "wires": [
            [
                "822dfec83e15372b"
            ]
        ]
    },
    {
        "id": "bd798aca0318dec7",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "WavePulseTime",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "cf4df60b0dfe2ee3",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.pd",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1640,
        "y": 2700,
        "wires": [
            []
        ]
    },
    {
        "id": "cdc476c12ca7c12b",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveMakerWavePayload",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + flow.get(\"auth_token\"),\n    \"Content-Type\": \"application/json\"\n}\n\n\nmsg.url = \"https://cloud.reef-beat.com/reef-wave/library/\" + msg.payload.uid\nmsg.payload = {\n    \"direction\": \"fw\",\n    \"frt\": msg.payload.frt,\n    \"pd\": msg.payload.pd,\n    \"pump_settings\": [\n        {\n            \"fti\": msg.payload.fti,\n            \"hwid\": msg.payload.hwid,\n            \"rti\": msg.payload.rti\n        }\n    ],\n    \"rrt\": msg.payload.rrt,\n    \"sn\": 3,\n    \"type\": \"un\",\n    //\"duration\": 3000,\n    \"fti\": msg.payload.fti,\n    \"rti\": msg.payload.rti,\n    \"sync\": true\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2560,
        "wires": [
            [
                "16afb6bcd2299eab"
            ]
        ]
    },
    {
        "id": "16afb6bcd2299eab",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "PUT",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 930,
        "y": 2560,
        "wires": [
            [
                "a495097117f0090a",
                "5331139225b57961"
            ]
        ]
    },
    {
        "id": "a495097117f0090a",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 138",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 2520,
        "wires": []
    },
    {
        "id": "822dfec83e15372b",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "NewValuePayload",
        "func": "// Retrieve global values once to avoid multiple lookups\nconst schedule = {\n    uid: global.get(\"WaveActiveScheduleUID\"),\n    name: global.get(\"WaveActiveSchedule\"),\n    frt: global.get(\"WaveActiveScheduleFRT\"),\n    rrt: global.get(\"WaveActiveScheduleRRT\"),\n    pd: global.get(\"WaveActiveSchedulePD\"),\n    hwid: global.get(\"WaveActiveScheduleHWID\"),\n    fti: global.get(\"WaveActiveScheduleFTI\"),\n    rti: global.get(\"WaveActiveScheduleRTI\"),\n    sync: true\n};\n\n// Update the specific property based on msg.changeItem\nif (schedule.hasOwnProperty(msg.changeItem)) {\n    schedule[msg.changeItem] = msg.payload;\n}\n\n//node.warn(schedule);\nreturn { payload: schedule };",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 2560,
        "wires": [
            [
                "45997b82acf68360",
                "cdc476c12ca7c12b"
            ]
        ]
    },
    {
        "id": "45997b82acf68360",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 139",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 2520,
        "wires": []
    },
    {
        "id": "7899036784f2f18a",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 140",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1390,
        "y": 2700,
        "wires": []
    },
    {
        "id": "5331139225b57961",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveLastCommandStatus",
        "entityConfig": "73e74eefc1781150",
        "version": 0,
        "state": "payload.message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1220,
        "y": 2560,
        "wires": [
            []
        ]
    },
    {
        "id": "7b1b7a6a82a20392",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveLastCommandStatus",
        "entityConfig": "73e74eefc1781150",
        "version": 0,
        "state": "payload.message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1860,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "03a0d420378e36e5",
        "type": "server-state-changed",
        "z": "93fb4f06d7a3a7bc",
        "name": "WaveActiveScheduleNameChange",
        "server": "caf9ba1992c9f965",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "text.waveactiveschedulename"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 2680,
        "wires": [
            [
                "de663c67a8187d97"
            ]
        ]
    },
    {
        "id": "ab37a50217886889",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 141",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 2640,
        "wires": []
    },
    {
        "id": "399c7e2d2b29ab59",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefWaveFeedSettings",
        "func": "if (global.get(\"RSReefWave\")) {\n    msg.url = \"http://\" + global.get(\"RSReefWaveIP\") + \"/feeding/schedule\"\n            node.send\n}\nelse { node.warn(\"No ReefWave Devices Found\"); return }\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 2020,
        "wires": [
            [
                "ed5921976ec1c90e"
            ]
        ]
    },
    {
        "id": "b65a3c00a4735b93",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefWaveFeedSettings",
        "func": "if (global.get(\"RSReefWave\")) {\n    msg.url = \"http://\" + global.get(\"RSReefWaveIP\") + \"/feeding/schedule\"\n            node.send\n}\nelse { node.warn(\"No ReefWave Devices Found\"); return }\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 2100,
        "wires": [
            [
                "778616bf3511dc21"
            ]
        ]
    },
    {
        "id": "a94b84c1ca1f3c38",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "PumpLastCommandStatus",
        "entityConfig": "61b63132cd01c4a5",
        "version": 0,
        "state": "payload.message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1320,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "4f765cbd20c3466a",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "MatLastCommandStatus",
        "entityConfig": "dfdf2e90cf12b465",
        "version": 0,
        "state": "payload.message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 690,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "f518162ad74e137f",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test 3ml head 4",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "data.entity_id",
                "v": "4",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 160,
        "y": 1620,
        "wires": [
            [
                "b3529660c7ceb99e"
            ]
        ]
    },
    {
        "id": "1492fdcbf1d4b8d3",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "PUT",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1150,
        "y": 1660,
        "wires": [
            [
                "75b37d0088177ce5",
                "fe3ed67df2224e0c"
            ]
        ]
    },
    {
        "id": "75b37d0088177ce5",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 142",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 1620,
        "wires": []
    },
    {
        "id": "a15a366f2faa0257",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Set Daily Dose",
        "func": "/*\nnode.warn(\"NEW VALUE=\" + msg.newValue)\nnode.warn(\"PAYLOAD=\" + msg.payload)\nif (global.get(\"RSReefDose\")) {\n    if (msg.data.entity_id.includes(\"1\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/1/settings\"\n    }\n    if (msg.data.entity_id.includes(\"2\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/2/settings\"\n    }\n    if (msg.data.entity_id.includes(\"3\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/3/settings\"\n    }\n    if (msg.data.entity_id.includes(\"4\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/4/settings\"\n    }\n}\nelse { node.warn(\"No ReefDose Devices Found\"); return }\n*/\n\nmsg.payload.schedule.dd = msg.newValue\nreturn msg;\n\n/* \nmsg.payload = {\n    \"container_volume\": msg.payload.container_volume,\n    \"dc\": msg.payload.dc,\n    \"entire_dd\": msg.payload.entire_dd,\n    \"food_delay\": msg.payload.food_delay,\n    \"is_food_head\": msg.payload.is_food_head,\n    \"schedule\": {\n        \"days\": [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7\n        ],\n        \"dd\": msg.newValue,\n        \"mode\": msg.payload.schedule.mode,\n        \"time\": msg.payload.schedule.time,\n        \"type\": msg.payload.schedule.type\n    },\n    \"schedule_enabled\": msg.payload.schedule_enabled,\n    \"show\": msg.payload.show,\n    \"slm\": msg.payload.slm\n}\n*/\n\n\n// Cloud\n// PUT https://cloud.reef-beat.com/reef-dosing/34ab9545eb30/head/4/settings\n/*\nvar returns = {\n    \"container_volume\": 159,\n    \"dc\": true,\n    \"entire_dd\": true,\n    \"food_delay\": 0,\n    \"is_food_head\": false,\n    \"schedule\": {\n        \"days\": [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7\n        ],\n        \"dd\": 6,\n        \"mode\": \"regular\",\n        \"time\": 480,\n        \"type\": \"single\"\n    },\n    \"schedule_enabled\": true,\n    \"show\": true,\n    \"slm\": true\n}\n\n//GET https://cloud.reef-beat.com/reef-dosing/34ab9545eb30/head/4/settings\nreturns = {\n    \"container_volume\": 159,\n    \"dc\": true,\n    \"enable_ratio\": true,\n    \"entire_dd\": true,\n    \"food_delay\": 0,\n    \"is_food_head\": false,\n    \"last_calibrated\": 1656594792,\n    \"manual_dose_scheduled\": false,\n    \"recalibration_required\": false,\n    \"schedule\": {\n        \"days\": [\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7\n        ],\n        \"dd\": 6,\n        \"mode\": \"regular\",\n        \"time\": 480,\n        \"type\": \"single\"\n    },\n    \"schedule_enabled\": true,\n        \"show\": true,\n        \"slm\": true,\n        \"state\": \"on\",\n        \"supplement\": {\n            \"brand_name\": \"Red Sea\",\n            \"concentration\": 0,\n            \"display_name\": \"Nutrient control\",\n            \"is_brand_editable\": false,\n            \"is_name_editable\": false,\n            \"is_supplement_editable\": false,\n            \"made_by_redsea\": true,\n            \"name\": \"NO3PO4-X\",\n            \"short_name\": \"NPX\",\n            \"type\": \"null\",\n            \"uid\": \"ffaf6ff8-bc6d-44eb-9e4b-e679943dc835\"\n    },\n    \"today_auto_dosed_volume\": 5,\n    \"vps\": 0.060606\n}\n*/",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 1660,
        "wires": [
            [
                "1492fdcbf1d4b8d3",
                "37ece6ab52c176c3"
            ]
        ]
    },
    {
        "id": "2dcade150113459e",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1660,
        "wires": [
            [
                "767c7a0729c13b24",
                "a15a366f2faa0257"
            ]
        ]
    },
    {
        "id": "b3529660c7ceb99e",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Settings",
        "func": "msg.newValue = msg.payload\n//node.warn(msg.newValue)\nif (global.get(\"RSReefDose\")){\n    //if (global.get(\"RSReedDoseModel\") == \"RSDOSE4\"){\n    //    for (let i=1; i <=4; i++){\n    if (msg.data.entity_id.includes(\"1\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/1/settings\"\n    }\n    if (msg.data.entity_id.includes(\"2\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/2/settings\"\n    }\n    if (msg.data.entity_id.includes(\"3\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/3/settings\"\n    }\n    if (msg.data.entity_id.includes(\"4\")) {\n        msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/4/settings\"\n    }\n    //        node.send\n    //    }\n    //}\n    //else {\n    //    return\n    //}\n}\nelse {node.warn(\"No ReefDose Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1660,
        "wires": [
            [
                "b4de56184c7e3118",
                "2dcade150113459e"
            ]
        ]
    },
    {
        "id": "767c7a0729c13b24",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 143",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1620,
        "wires": []
    },
    {
        "id": "37ece6ab52c176c3",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 144",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 1620,
        "wires": []
    },
    {
        "id": "fe3ed67df2224e0c",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "DoseLastCommandStatus",
        "entityConfig": "07b8790cadce93bc",
        "version": 0,
        "state": "payload.message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1440,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "26497e4056963518",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head1DailyDose",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "288f1f2485534f8d",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.schedule.dd",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 920,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "125b21759419b9d4",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head2DailyDose",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "55edf4b23778c3ae",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.schedule.dd",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1160,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "7c0bf8b15b3a901c",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head3DailyDose",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "28230898ebd93f48",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.schedule.dd",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1400,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "b91f42114df37425",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "Head4DailyDose",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "dd0f724332bd869c",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.schedule.dd",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1640,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "80916361316060a2",
        "type": "server-state-changed",
        "z": "93fb4f06d7a3a7bc",
        "name": "DoseDailyChange",
        "server": "caf9ba1992c9f965",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "number.head1dailydose",
                "number.head2dailydose",
                "number.head3dailydose",
                "number.head4dailydose"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 1660,
        "wires": [
            [
                "b3529660c7ceb99e"
            ]
        ]
    },
    {
        "id": "b4de56184c7e3118",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 145",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 1620,
        "wires": []
    },
    {
        "id": "34c1be87e63e0835",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "Get Notifications",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://cloud.reef-beat.com/notification/inapp?expirationDays=90&page=0&size=100000&sortDirection=DESC",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "3494aa3ea7b5f815",
                "9ddbe36147651faa"
            ]
        ]
    },
    {
        "id": "9ddbe36147651faa",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LastNotification",
        "entityConfig": "02b9cfdc004615b4",
        "version": 0,
        "state": "payload.content[0].text",
        "stateType": "msg",
        "attributes": [
            {
                "property": "DeviceType",
                "value": "payload.content[0].device_type",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1280,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "47a3c05c9f0c18c4",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 5min",
        "props": [],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 2940,
        "wires": [
            [
                "6be0eb1817ca53e7"
            ]
        ]
    },
    {
        "id": "6be0eb1817ca53e7",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefLed Settings",
        "func": "if (global.get(\"RSReefLights\")){\n    msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/dashboard\"\n}\nelse {node.warn(\"No ReefLights Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 2940,
        "wires": [
            [
                "c213371fc5a86f90",
                "9f9b3c3fd4f8d135"
            ]
        ]
    },
    {
        "id": "c213371fc5a86f90",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 151",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 2900,
        "wires": []
    },
    {
        "id": "9f9b3c3fd4f8d135",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "body",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 570,
        "y": 2940,
        "wires": [
            [
                "5fa457587bb636d7",
                "2d321fcd59482584"
            ]
        ]
    },
    {
        "id": "5fa457587bb636d7",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 152",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 2900,
        "wires": []
    },
    {
        "id": "2d321fcd59482584",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "GetCurrentLightValues",
        "func": "//var activeSchedule = global.get(\"LightsActiveSchedule\")\n\n//node.warn(activeSchedule)\n/* Set global variables in HA entities \nglobal.set(\"RSReefLightsKelvin\", msg.payload.manual.kelvin)\nglobal.set(\"RSReefLightsIntensity\", msg.payload.manual.intensity)\nglobal.set(\"RSReefLightsMoon\", msg.payload.manual.moon)\n\n// I think G2 can't manually set blue and white\nglobal.set(\"RSReefLightsBlue\", msg.payload.manual.blue)\nglobal.set(\"RSReefLightsWhite\", msg.payload.manual.white)\n*/\nreturn msg;",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 2940,
        "wires": [
            [
                "715ad09598636e45",
                "a97a4f5a3e08e4fe",
                "f0c0c316ab721fa4",
                "1d740f23325d43aa",
                "8d83a2587f459130",
                "8df236630cdcf5f1",
                "0996358147e07038",
                "fac0e143c682ee4c",
                "ce4f79c167696241",
                "acc492b4c481d636",
                "76c7a0115b6dde1c",
                "6b97e4881b42a0cd",
                "d436e30b0e873924",
                "8704315979c81e7f",
                "0b17a4aa845e2ec4",
                "0e9ca26fa959f1f5",
                "554a2c31a984a8e4",
                "0df4d1c16955ac04",
                "d9169c47df9deabf",
                "5819ebc0790f7cf1",
                "d816f1940641fbb9",
                "bef6405a69114f54",
                "31bc2a4ca5ce3f4e",
                "0494b0658372cdac",
                "08f7618c7c9e3a24",
                "2171cef478f856bb",
                "15e1532a43291992"
            ],
            []
        ]
    },
    {
        "id": "715ad09598636e45",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 154",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 2900,
        "wires": []
    },
    {
        "id": "a97a4f5a3e08e4fe",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsBatteryLevel",
        "entityConfig": "2a3ef9923e2cda51",
        "version": 0,
        "state": "payload.battery_level",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1050,
        "y": 2980,
        "wires": [
            []
        ]
    },
    {
        "id": "f0c0c316ab721fa4",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsTimeError",
        "entityConfig": "b5e42181ea1fd5fb",
        "version": 0,
        "state": "payload.time_error",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1040,
        "y": 3020,
        "wires": [
            []
        ]
    },
    {
        "id": "1d740f23325d43aa",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsTiltSwitch",
        "entityConfig": "967beb380f17cbc2",
        "version": 0,
        "state": "payload.tilt_switch",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1040,
        "y": 3060,
        "wires": [
            []
        ]
    },
    {
        "id": "8d83a2587f459130",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsAclimationEnabled",
        "entityConfig": "3c489ddec931e918",
        "version": 0,
        "state": "payload.acclimation.enabled",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1070,
        "y": 3100,
        "wires": [
            []
        ]
    },
    {
        "id": "8df236630cdcf5f1",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsAclimationStartedOn",
        "entityConfig": "b4a15cd44d8e9995",
        "version": 0,
        "state": "payload.acclimation.started_on",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1080,
        "y": 3140,
        "wires": [
            []
        ]
    },
    {
        "id": "0996358147e07038",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsAclimationDuration",
        "entityConfig": "660d8dee9d337914",
        "version": 0,
        "state": "payload.acclimation.duration",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1070,
        "y": 3180,
        "wires": [
            []
        ]
    },
    {
        "id": "fac0e143c682ee4c",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsAclimationRemainingDays",
        "entityConfig": "de8079a708d626c5",
        "version": 0,
        "state": "payload.acclimation.remaining_days",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1090,
        "y": 3220,
        "wires": [
            []
        ]
    },
    {
        "id": "ce4f79c167696241",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsAclimationStartIntensityFactor",
        "entityConfig": "391cad14dc8cb412",
        "version": 0,
        "state": "payload.acclimation.start_intensity_factor",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1110,
        "y": 3260,
        "wires": [
            []
        ]
    },
    {
        "id": "acc492b4c481d636",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsAclimationCurrentIntensityFactor",
        "entityConfig": "1de0cddfd2273ba9",
        "version": 0,
        "state": "payload.acclimation.current_intensity_factor",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1110,
        "y": 3300,
        "wires": [
            []
        ]
    },
    {
        "id": "76c7a0115b6dde1c",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoonPhaseEnabled",
        "entityConfig": "830717efade97f92",
        "version": 0,
        "state": "payload.moon_phase.enabled",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1080,
        "y": 3340,
        "wires": [
            []
        ]
    },
    {
        "id": "6b97e4881b42a0cd",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoonPhaseName",
        "entityConfig": "9502ed676376529c",
        "version": 0,
        "state": "payload.moon_phase.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1070,
        "y": 3380,
        "wires": [
            []
        ]
    },
    {
        "id": "d436e30b0e873924",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoonPhaseIntensity",
        "entityConfig": "ece98cf8d0a3ed38",
        "version": 0,
        "state": "payload.moon_phase.intensity",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1080,
        "y": 3420,
        "wires": [
            []
        ]
    },
    {
        "id": "8704315979c81e7f",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoonPhaseTodaysMoonDay",
        "entityConfig": "56a88a79eff34169",
        "version": 0,
        "state": "payload.moon_phase.todays_moon_day",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1100,
        "y": 3460,
        "wires": [
            []
        ]
    },
    {
        "id": "0b17a4aa845e2ec4",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoonPhaseNextFullMoon",
        "entityConfig": "f2b0b26848a5a895",
        "version": 0,
        "state": "payload.moon_phase.next_full_moon",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1090,
        "y": 3500,
        "wires": [
            []
        ]
    },
    {
        "id": "0e9ca26fa959f1f5",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoonPhaseNextNewMoon",
        "entityConfig": "9162731b278aa81a",
        "version": 0,
        "state": "payload.moon_phase.next_new_moon",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1100,
        "y": 3540,
        "wires": [
            []
        ]
    },
    {
        "id": "554a2c31a984a8e4",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsCurrentProgramActivePreset",
        "entityConfig": "b9fcc1306699cbc7",
        "version": 0,
        "state": "payload.current_program.active_preset",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1100,
        "y": 3860,
        "wires": [
            []
        ]
    },
    {
        "id": "0df4d1c16955ac04",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsCurrentProgramName",
        "entityConfig": "e7af747af3ce22d1",
        "version": 0,
        "state": "payload.current_program.name",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1080,
        "y": 3900,
        "wires": [
            []
        ]
    },
    {
        "id": "22afcb6589f04494",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test Mode Manual",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"kelvin\": 23000, \"intensity\":10, \"moon\": 1, \"duration\": 10}",
        "payloadType": "json",
        "x": 150,
        "y": 3040,
        "wires": [
            [
                "2feffc2190be5445"
            ]
        ]
    },
    {
        "id": "76bddf7e7dfa688d",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 570,
        "y": 3080,
        "wires": [
            [
                "bfce6841f9fc8546",
                "833aa2fe6d16cb95",
                "79976bed2bb3745e"
            ]
        ]
    },
    {
        "id": "64b5827c1ab51d3a",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 157",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 3140,
        "wires": []
    },
    {
        "id": "bfce6841f9fc8546",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 158",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 3040,
        "wires": []
    },
    {
        "id": "13b69469e9798881",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsKelvin",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "1744f00bd833f409",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "kelvin",
                "valueType": "str"
            }
        ],
        "x": 130,
        "y": 3080,
        "wires": [
            [
                "b44fa6017fb97721"
            ]
        ]
    },
    {
        "id": "b44fa6017fb97721",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "NewValuePayload",
        "func": "if (global.get(\"RSReefLights\")) {\n    msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/manual\"\n}\nelse { node.warn(\"No ReefLights Devices Found\"); return null }\n\n// Only adjust values if we're in manual mode\nif (flow.get(\"lightMode\") == \"auto\") {return null}\n\n// Exit if values updated but not different\nif (msg.payload == msg.previousValue) { return null }\n\n// Get globals\nvar kelvin = global.get(\"RSReefLightsKelvin\")\nvar intensity = global.get(\"RSReefLightsIntensity\")\nvar moon = global.get(\"RSReefLightsMoon\")\n// I think G2 can't manually set blue and white\nvar blue = global.get(\"RSReefLightsBlue\")\nvar white = global.get(\"RSReefLightsWhite\")\n\n\n// Update what has changed\nif (msg.changeItem == \"kelvin\"){ \n        kelvin = msg.payload\n} else if (msg.changeItem == \"intensity\"){\n        intensity = msg.payload\n} else if (msg.changeItem == \"moon\"){\n        moon = msg.payload\n} else if (msg.changeItem == \"blue\") {\n        blue = msg.payload \n} else if (msg.changeItem == \"white\") {\n        white = msg.payload\n} else if (msg.changeItem == \"duration\") {\n    var duration = msg.payload\n}\n\nif (! duration || duration == 0) {\nmsg.payload = {\n    kelvin: kelvin,\n    intensity: intensity,\n    moon: moon\n}\n}\nelse {\n    msg.payload = {\n        kelvin: kelvin,\n        intensity: intensity,\n        moon: moon,\n        duration: duration\n    }\n}\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 3180,
        "wires": [
            [
                "76bddf7e7dfa688d",
                "64b5827c1ab51d3a"
            ]
        ]
    },
    {
        "id": "d2912260646e766a",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsIntensity",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "6eafc53f1621418c",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "intensity",
                "valueType": "str"
            }
        ],
        "x": 140,
        "y": 3120,
        "wires": [
            [
                "b44fa6017fb97721"
            ]
        ]
    },
    {
        "id": "26f71afd71b73ee8",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoon",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "5848159de692eb1c",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "moon",
                "valueType": "str"
            }
        ],
        "x": 130,
        "y": 3160,
        "wires": [
            [
                "b44fa6017fb97721"
            ]
        ]
    },
    {
        "id": "afe68f2b3337bdfd",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMode",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "0e3c7c960d2eece8",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "lightMode",
                "propertyType": "flow",
                "value": "",
                "valueType": "value"
            }
        ],
        "x": 130,
        "y": 3320,
        "wires": [
            [
                "8361bf9159c066b3"
            ]
        ]
    },
    {
        "id": "8361bf9159c066b3",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "NewValuePayload",
        "func": "var mode = msg.payload\n\n// Only proceed if value has changed\nif (global.get(\"RSReefLights\")) {\n    if (mode != msg.previousValue) {\n        if ( mode == \"off\" ) {\n            msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/off\"\n        } else { \n            msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/mode\"\n        }\n        msg.payload = {\n            mode: mode\n        }\n    } else {return}\n    return msg\n}\nelse { node.warn(\"No ReefLights Devices Found\"); return }",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 3320,
        "wires": [
            [
                "64b5827c1ab51d3a",
                "09e32565893e10ed"
            ]
        ]
    },
    {
        "id": "d9169c47df9deabf",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMode",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "0e3c7c960d2eece8",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.mode",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1030,
        "y": 2940,
        "wires": [
            []
        ]
    },
    {
        "id": "5819ebc0790f7cf1",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsKelvin",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "1744f00bd833f409",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.manual.kelvin",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "kelvin",
                "valueType": "str"
            },
            {
                "property": "RSReefLightsKelvin",
                "propertyType": "global",
                "value": "",
                "valueType": "value"
            }
        ],
        "x": 1030,
        "y": 3580,
        "wires": [
            []
        ]
    },
    {
        "id": "d816f1940641fbb9",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsIntensity",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "6eafc53f1621418c",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.manual.intensity",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "intensity",
                "valueType": "str"
            },
            {
                "property": "RSReefLightsIntensity",
                "propertyType": "global",
                "value": "",
                "valueType": "value"
            }
        ],
        "x": 1040,
        "y": 3620,
        "wires": [
            []
        ]
    },
    {
        "id": "bef6405a69114f54",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsMoon",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "5848159de692eb1c",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.manual.moon",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "moon",
                "valueType": "str"
            },
            {
                "property": "RSReefLightsMoon",
                "propertyType": "global",
                "value": "",
                "valueType": "value"
            }
        ],
        "x": 1030,
        "y": 3660,
        "wires": [
            []
        ]
    },
    {
        "id": "31bc2a4ca5ce3f4e",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsManualFan",
        "entityConfig": "351d9496a00a6713",
        "version": 0,
        "state": "payload.manual.fan",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1050,
        "y": 3780,
        "wires": [
            []
        ]
    },
    {
        "id": "0494b0658372cdac",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsManualTemperature",
        "entityConfig": "101bf342c21adce0",
        "version": 0,
        "state": "payload.manual.temperature",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 1070,
        "y": 3820,
        "wires": [
            []
        ]
    },
    {
        "id": "10ee5c0b5a12d2e6",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsWhite",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "2d92747cc331e899",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "white",
                "valueType": "str"
            }
        ],
        "x": 130,
        "y": 3200,
        "wires": [
            [
                "b44fa6017fb97721"
            ]
        ]
    },
    {
        "id": "08f7618c7c9e3a24",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsWhite",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "2d92747cc331e899",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.manual.white",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "white",
                "valueType": "str"
            },
            {
                "property": "RSReefLightsWhite",
                "propertyType": "global",
                "value": "",
                "valueType": "value"
            }
        ],
        "x": 1030,
        "y": 3700,
        "wires": [
            []
        ]
    },
    {
        "id": "839778fc132a790a",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsBlue",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "b58b2d0c79193e0e",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "blue",
                "valueType": "str"
            }
        ],
        "x": 120,
        "y": 3240,
        "wires": [
            [
                "b44fa6017fb97721"
            ]
        ]
    },
    {
        "id": "2171cef478f856bb",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsBlue",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "b58b2d0c79193e0e",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.manual.blue",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "blue",
                "valueType": "str"
            },
            {
                "property": "RSReefLightsBlue",
                "propertyType": "global",
                "value": "",
                "valueType": "value"
            }
        ],
        "x": 1020,
        "y": 3740,
        "wires": [
            []
        ]
    },
    {
        "id": "ba147e9e3a41252d",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Test 2ml head 1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "data.entity_id",
                "v": "1",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 160,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "5dca56bba1deccb6",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 650,
        "y": 1720,
        "wires": [
            [
                "767c7a0729c13b24",
                "fe3ed67df2224e0c"
            ]
        ]
    },
    {
        "id": "9247272a64d1bb98",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "ManualDoseHead",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "7d0275db9ebd6246",
        "exposeAsEntityConfig": "",
        "mode": "get",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "head",
                "propertyType": "flow",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue.head",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 410,
        "y": 1800,
        "wires": [
            [
                "97a0e79db3d6c0c1",
                "6f7125d62b053904"
            ]
        ]
    },
    {
        "id": "97a0e79db3d6c0c1",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "ManualDoseVolume",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "a647f8cf3bb424e5",
        "exposeAsEntityConfig": "",
        "mode": "get",
        "value": "payload.manual.volume",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "volume",
                "propertyType": "flow",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue.volume",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 670,
        "y": 1800,
        "wires": [
            [
                "1b5d0b4b4a2e2d53",
                "8f832b502e143ef2"
            ]
        ]
    },
    {
        "id": "e45ddbfd62af6ead",
        "type": "ha-button",
        "z": "93fb4f06d7a3a7bc",
        "name": "ManualDoseNow",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "f9527650ff515a86",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 140,
        "y": 1800,
        "wires": [
            [
                "9247272a64d1bb98"
            ]
        ]
    },
    {
        "id": "1b5d0b4b4a2e2d53",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefDose Manual",
        "func": "var head = flow.get(\"head\")\nvar volume = flow.get(\"volume\")\n\n//node.warn(\"Head:\" + head )\n//node.warn(\"Volume:\" + volume)\n\nif (global.get(\"RSReefDose\")){\n    msg.url = \"http://\" + global.get(\"RSReefDoseIP\") + \"/head/\" + head + \"/manual\"\n}\nelse {node.warn(\"No ReefDose Devices Found\");return}\n\nmsg.payload = {\n    \"manual_dose_scheduled\": true,\n    \"volume\": volume\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1720,
        "wires": [
            [
                "b4de56184c7e3118",
                "5dca56bba1deccb6"
            ]
        ]
    },
    {
        "id": "6f7125d62b053904",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 161",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 1760,
        "wires": []
    },
    {
        "id": "8f832b502e143ef2",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 162",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1760,
        "wires": []
    },
    {
        "id": "f96c2480f744a7b7",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "G2 Lights Manual Have Kelvin, Intensity, Moon, Duration",
        "info": "",
        "x": 270,
        "y": 3000,
        "wires": []
    },
    {
        "id": "f41f277882e28486",
        "type": "ha-number",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsDuration",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "f0bd2e978089f79b",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            },
            {
                "property": "changeItem",
                "propertyType": "msg",
                "value": "duration",
                "valueType": "str"
            }
        ],
        "x": 140,
        "y": 3280,
        "wires": [
            [
                "b44fa6017fb97721"
            ]
        ]
    },
    {
        "id": "2feffc2190be5445",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "NewValuePayload",
        "func": "if (global.get(\"RSReefLights\")) {\n    msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/manual\"\n}\nelse { node.warn(\"No ReefLights Devices Found\"); return }\n\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 3040,
        "wires": [
            [
                "76bddf7e7dfa688d",
                "64b5827c1ab51d3a"
            ]
        ]
    },
    {
        "id": "70a87658356df6db",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsPreset",
        "version": 1,
        "debugenabled": false,
        "inputs": 0,
        "outputs": 1,
        "entityConfig": "6fe5651395e05e99",
        "exposeAsEntityConfig": "",
        "mode": "listen",
        "value": "payload",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 130,
        "y": 3480,
        "wires": [
            [
                "106454a43d122dec"
            ]
        ]
    },
    {
        "id": "2cd254388e89dcff",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "NewValuePayload",
        "func": "if (global.get(\"RSReefLights\")) {\n    //msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/command/preset_name/1\"\n    msg.url = \"http://\" + global.get(\"RSReefLightsIP\") + \"/current_program\"\n    if (msg.payload == msg.previousValue) {return}\n}\nelse { node.warn(\"No ReefLights Devices Found\"); return }\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 3520,
        "wires": [
            []
        ]
    },
    {
        "id": "15e1532a43291992",
        "type": "ha-select",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsPreset",
        "version": 1,
        "debugenabled": false,
        "inputs": 1,
        "outputs": 1,
        "entityConfig": "6fe5651395e05e99",
        "exposeAsEntityConfig": "",
        "mode": "set",
        "value": "payload.current_program.name",
        "valueType": "msg",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "value"
            },
            {
                "property": "previousValue",
                "propertyType": "msg",
                "value": "",
                "valueType": "previousValue"
            }
        ],
        "x": 1030,
        "y": 3940,
        "wires": [
            []
        ]
    },
    {
        "id": "833aa2fe6d16cb95",
        "type": "delay",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 740,
        "y": 3080,
        "wires": [
            [
                "6be0eb1817ca53e7"
            ]
        ]
    },
    {
        "id": "106454a43d122dec",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "d": true,
        "name": "GetTokenPayload",
        "func": "// Exit if no change\nif (msg.payload == msg.previousValue) {return}\n\nflow.set(\"SetLightsPreset\", msg.payload)\n\nmsg.headers = {\n    \"Authorization\": \"Basic Z0ZqSHRKcGE6Qzlmb2d3cmpEV09SVDJHWQ==\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n};\n\nmsg.url = \"https://cloud.reef-beat.com/oauth/token\"\n\nmsg.payload = \"grant_type=password&username=\" + global.get(\"RSUser\") + \"&password=\" + global.get(\"RSPass\");\n\n\nif (global.get(\"RSReefLights\")) {node.send}\nelse { node.warn(\"No ReefLights Devices Found\"); return }\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 3480,
        "wires": [
            [
                "c30e236889558fac",
                "ce2ee7ad3cdf7ed3"
            ]
        ]
    },
    {
        "id": "c30e236889558fac",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 3480,
        "wires": [
            [
                "98e3677de5ec684d",
                "5d3b60f8059cdfbd"
            ]
        ]
    },
    {
        "id": "98e3677de5ec684d",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetTokenGetUID",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token,\n    \"Content-Type\": \"application/json\"\n}\nflow.set(\"auth_token\", msg.payload.access_token)\n//node.warn(flow.get(\"auth_token\"))\nmsg.url = \"https://cloud.reef-beat.com/aquarium\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 3480,
        "wires": [
            [
                "164c77afcb993235",
                "fa55e791dff6528c"
            ]
        ]
    },
    {
        "id": "164c77afcb993235",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 3540,
        "wires": [
            [
                "f9ecc755fafd8b1e",
                "1e374a347208cfa1"
            ]
        ]
    },
    {
        "id": "f9ecc755fafd8b1e",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "SetTokenURLLightPreset",
        "func": "msg.headers = {\n    \"Authorization\": \"Bearer \" + flow.get(\"auth_token\"),\n    \"Content-Type\": \"application/json\"\n}\n\n//msg.url = \"https://cloud.reef-beat.com/aquarium/\" + msg.payload[0].uid + \"/command/preset_name/1\"\nmsg.url = \"https://cloud.thereefbeat.com/device/f8b3b7c74f38/command/preset_name/1\"\nmsg.payload = {\n    \"name\": flow.get(\"SetLightsPreset\")\n}\n//node.warn(msg.url)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 3540,
        "wires": [
            [
                "4318788145c4d72c",
                "0af1dbd18ae398e6"
            ]
        ]
    },
    {
        "id": "ce2ee7ad3cdf7ed3",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 163",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 3440,
        "wires": []
    },
    {
        "id": "5d3b60f8059cdfbd",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 164",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 3440,
        "wires": []
    },
    {
        "id": "fa55e791dff6528c",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 165",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 3440,
        "wires": []
    },
    {
        "id": "1e374a347208cfa1",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 166",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 3520,
        "wires": []
    },
    {
        "id": "4318788145c4d72c",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 167",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 3520,
        "wires": []
    },
    {
        "id": "2d93b55e7370ead9",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsPreset - Cloud WIP",
        "info": "",
        "x": 170,
        "y": 3400,
        "wires": []
    },
    {
        "id": "0af1dbd18ae398e6",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "994e94fc39644f26",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 770,
        "y": 3640,
        "wires": [
            [
                "61e63cf8d55111fd"
            ]
        ]
    },
    {
        "id": "61e63cf8d55111fd",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 168",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 3600,
        "wires": []
    },
    {
        "id": "09e32565893e10ed",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 570,
        "y": 3320,
        "wires": [
            [
                "bfce6841f9fc8546",
                "79976bed2bb3745e",
                "6be0eb1817ca53e7"
            ]
        ]
    },
    {
        "id": "1f356417b8eeade8",
        "type": "comment",
        "z": "93fb4f06d7a3a7bc",
        "name": "ATO - placeholder",
        "info": "",
        "x": 150,
        "y": 4020,
        "wires": []
    },
    {
        "id": "3f191d96d6636b81",
        "type": "inject",
        "z": "93fb4f06d7a3a7bc",
        "name": "Every 5min",
        "props": [],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 4100,
        "wires": [
            [
                "7ded3989c308c568"
            ]
        ]
    },
    {
        "id": "7ded3989c308c568",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "ReefATO Settings",
        "func": "if (global.get(\"RSReefATO\")){\n    msg.url = \"http://\" + global.get(\"RSReefATOIP\") + \"/dashboard\"\n}\nelse {node.warn(\"No ReefATO Devices Found\");return}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 4100,
        "wires": [
            [
                "c00238ee6fe91d8e",
                "24358aa81ea5b997"
            ]
        ]
    },
    {
        "id": "c00238ee6fe91d8e",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 169",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 4060,
        "wires": []
    },
    {
        "id": "24358aa81ea5b997",
        "type": "http request",
        "z": "93fb4f06d7a3a7bc",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "body",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 590,
        "y": 4100,
        "wires": [
            [
                "3e81cac6ec25389c",
                "bb484690068fb132"
            ]
        ]
    },
    {
        "id": "3e81cac6ec25389c",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 170",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 4060,
        "wires": []
    },
    {
        "id": "bb484690068fb132",
        "type": "function",
        "z": "93fb4f06d7a3a7bc",
        "name": "GetCurrentATOValues",
        "func": "\nreturn msg;",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 4100,
        "wires": [
            [
                "966e4ae251ef1bc5"
            ],
            []
        ]
    },
    {
        "id": "966e4ae251ef1bc5",
        "type": "debug",
        "z": "93fb4f06d7a3a7bc",
        "name": "debug 171",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 4060,
        "wires": []
    },
    {
        "id": "79976bed2bb3745e",
        "type": "ha-sensor",
        "z": "93fb4f06d7a3a7bc",
        "name": "LightsLastCommandStatus",
        "entityConfig": "4cf9a7f320f0f68f",
        "version": 0,
        "state": "payload.message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1080,
        "y": 2900,
        "wires": [
            []
        ]
    },
    {
        "id": "8622b2230b385942",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump1Temperature",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump1Temperature"
            },
            {
                "property": "icon",
                "value": "mdi:temperature-celsius"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "temperature"
            },
            {
                "property": "unit_of_measurement",
                "value": "C"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "dae8aa7e26863969",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump1Name",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump1Name"
            },
            {
                "property": "icon",
                "value": "mdi:pump"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "d0cb2ad053e21785",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump1Type",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump1Type"
            },
            {
                "property": "icon",
                "value": "mdi:pump"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "fda19838d43d97fc",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatSensor",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatSensor"
            },
            {
                "property": "icon",
                "value": "mdi:leak"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "0bee1cb3914e5e15",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatAutoAdvance",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatAutoAdvance"
            },
            {
                "property": "icon",
                "value": "mdi:order-bool-ascending-variant"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "e247756b63567ed8",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatLastAdvanceCause",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatLastAdvanceCause"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "377b9e06d9d40850",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatRollLevel",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatRollLevel"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "1117c9c480f41ea3",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatRollDaysLeft",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatRollDaysLeft"
            },
            {
                "property": "icon",
                "value": "mdi:calendar-today"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ed5d511dfb4a43ef",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatTodaysUsage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatTodaysUsage"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "distance"
            },
            {
                "property": "unit_of_measurement",
                "value": "cm"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "3a8459e4657ff702",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatDailyUsage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatDailyUsage"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "distance"
            },
            {
                "property": "unit_of_measurement",
                "value": "cm"
            },
            {
                "property": "state_class",
                "value": "total"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "1eab63fe7c5278b9",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatTotalUsage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatTotalUsage"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "distance"
            },
            {
                "property": "unit_of_measurement",
                "value": "cm"
            },
            {
                "property": "state_class",
                "value": "total"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f4e2971f10693b77",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head1SuppName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head1SupplimentName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "2da421c0cd373f85",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head1DosedToday",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head1DosedToday"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "0532ec63a052adfa",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head1DailyDose",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head1DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "1c79feb62a03458f",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head1Remaining",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head1Remaining"
            },
            {
                "property": "icon",
                "value": "mdi:cup-water"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume_storage"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "04c6d24f05021b64",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head1SuppShortName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head1SuppShortName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "28d87086bfb9ba54",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump1Speed",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump1Speed"
            },
            {
                "property": "icon",
                "value": "mdi:speedometer"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Percent"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a0b5ee75f380e1f0",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head2Remaining",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head2Remaining"
            },
            {
                "property": "icon",
                "value": "mdi:cup-water"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume_storage"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "0336e585822d6738",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head2SuppName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head2SuppName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "8db87c4539797afc",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head2DosedToday",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head2DosedToday"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "7d384937792c9d86",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head2DailyDose",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head2DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "64d4c459cd31d03a",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head2SuppShortName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head2SuppShortName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ee9d565c6f7932f2",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head3Remaining",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head3Remaining"
            },
            {
                "property": "icon",
                "value": "mdi:cup-water"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "717a438c0c1ad2b4",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head3SuppName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head3SuppName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "628ae3ba3c61f832",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head3DosedToday",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head3DosedToday"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "83ad6f2d56267cbf",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head3DailyDose",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head3DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "85adae44ea93027a",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head3SuppShortName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head3SuppShortName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "cd09158a14612668",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head4Remaining",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head4Remaining"
            },
            {
                "property": "icon",
                "value": "mdi:cup-water"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume_storage"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d4c7de5f22cd0674",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head4SuppName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head4SuppName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "3faa22a034cb4334",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head4DosedToday",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head4DosedToday"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f0dd2ea7b91c3f1f",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head4DailyDose",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head4DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "1797d4fa36801d98",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head4SuppShortName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Head4SuppShortName"
            },
            {
                "property": "icon",
                "value": "mdi:chemical-weapon"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d751b9a98d6b3c6b",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump2Type",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump2Type"
            },
            {
                "property": "icon",
                "value": "mdi:pump"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a5d17d3f9e250603",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump2Name",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump2Name"
            },
            {
                "property": "icon",
                "value": "mdi:pump"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "b86b722722e064a6",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump2Temperature",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump2Temperature"
            },
            {
                "property": "icon",
                "value": "mdi:temperature-celsius"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "fdb3f48ee1b73376",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "Pump2Speed",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "Pump2Speed"
            },
            {
                "property": "icon",
                "value": "mdi:speedometer"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Percent"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f77f5ec5d961c4f6",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatModel",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatModel"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "00519b0a4cd0ae64",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatAdvance",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "MatAdvance"
            },
            {
                "property": "icon",
                "value": "mdi:paper-roll-outline"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": true
    },
    {
        "id": "1f66910c43d561ea",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveFeedSchedule1Name",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveFeedSchedule1Name"
            },
            {
                "property": "icon",
                "value": "mdi:waves"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "82e95b0691de1b05",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveFeedSchedule1Duration",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveFeedSchedule1Duration"
            },
            {
                "property": "icon",
                "value": "mdi:timer-edit"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Minutes"
            },
            {
                "property": "min_value",
                "value": 1
            },
            {
                "property": "max_value",
                "value": 60
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "994e94fc39644f26",
        "type": "tls-config",
        "name": "",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "servername": "",
        "verifyservercert": false,
        "alpnprotocol": ""
    },
    {
        "id": "a2b7f110d698c4df",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveForwardIntensity",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveForwardIntensity"
            },
            {
                "property": "icon",
                "value": "mdi:waves-arrow-right"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Percent"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d1f79ffc05882bda",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveReverseIntensity",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveReverseIntensity"
            },
            {
                "property": "icon",
                "value": "mdi:waves-arrow-left"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Percent"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "6c4fa4d696136e6e",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveForwardTime",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveForwardTime"
            },
            {
                "property": "icon",
                "value": "mdi:timer"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Minutes"
            },
            {
                "property": "min_value",
                "value": 2
            },
            {
                "property": "max_value",
                "value": 60
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a15b5eb2ffc5cb40",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveReverseTime",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveReverseTime"
            },
            {
                "property": "icon",
                "value": "mdi:timer"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Minutes"
            },
            {
                "property": "min_value",
                "value": 2
            },
            {
                "property": "max_value",
                "value": 60
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "8b9dea3eac7d4ce8",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "d3873c4cc506cca8",
        "name": "AquariumType",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "AquariumType"
            },
            {
                "property": "icon",
                "value": "mdi:fishbowl"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "388ce1ae97a61b74",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "d3873c4cc506cca8",
        "name": "AquariumVolume",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "AquariumVolume"
            },
            {
                "property": "icon",
                "value": "mdi:fishbowl"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume_storage"
            },
            {
                "property": "unit_of_measurement",
                "value": "L"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "58bc98e249d76cc4",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "d3873c4cc506cca8",
        "name": "AquariumName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "AquariumName"
            },
            {
                "property": "icon",
                "value": "mdi:fishbowl"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "12ba62e53d136fca",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "FeedMode",
        "version": "6",
        "entityType": "select",
        "haConfig": [
            {
                "property": "name",
                "value": "FeedMode"
            },
            {
                "property": "icon",
                "value": "mdi:hamburger"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "options",
                "value": [
                    "start",
                    "stop"
                ]
            }
        ],
        "resend": false,
        "debugEnabled": true
    },
    {
        "id": "d22bb1db97035f04",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "d3873c4cc506cca8",
        "name": "FeedMode",
        "version": "6",
        "entityType": "select",
        "haConfig": [
            {
                "property": "name",
                "value": "FeedMode"
            },
            {
                "property": "icon",
                "value": "mdi:hamburger"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "options",
                "value": [
                    "start",
                    "stop"
                ]
            }
        ],
        "resend": false,
        "debugEnabled": true
    },
    {
        "id": "cb24db3794b124eb",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "d3873c4cc506cca8",
        "name": "AquariumDevices",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "AquariumDevices"
            },
            {
                "property": "icon",
                "value": "mdi:fishbowl"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "68b3509ab6511a7c",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveActiveScheduleName",
        "version": "6",
        "entityType": "text",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveActiveScheduleName"
            },
            {
                "property": "icon",
                "value": "mdi:receipt-text-clock"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "mode",
                "value": "text"
            },
            {
                "property": "min_length",
                "value": ""
            },
            {
                "property": "max_length",
                "value": ""
            },
            {
                "property": "pattern",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "cf4df60b0dfe2ee3",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WavePulseTime",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "WavePulseTime"
            },
            {
                "property": "icon",
                "value": "mdi:timer"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Seconds"
            },
            {
                "property": "min_value",
                "value": 2
            },
            {
                "property": "max_value",
                "value": 25
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "73e74eefc1781150",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "8e62dc8b866a6a72",
        "name": "WaveLastCommandStatus",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "WaveLastCommandStatus"
            },
            {
                "property": "icon",
                "value": "mdi:bug"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "caf9ba1992c9f965",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": true,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "friendlyName",
        "deviceSelector": "friendlyName",
        "entitySelector": "friendlyName",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "61b63132cd01c4a5",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "0d3d05e917a791bc",
        "name": "PumpLastCommandStatus",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "PumpLastCommandStatus"
            },
            {
                "property": "icon",
                "value": "mdi:bug"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "dfdf2e90cf12b465",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "70bff6cea0a47242",
        "name": "MatLastCommandStatus",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "MatLastCommandStatus"
            },
            {
                "property": "icon",
                "value": "mdi:bug"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "07b8790cadce93bc",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "DoseLastCommandStatus",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "DoseLastCommandStatus"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "288f1f2485534f8d",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head1DailyDose",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "Head1DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "ml"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 200
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "55edf4b23778c3ae",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head2DailyDose",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "Head2DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "ml"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 200
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "28230898ebd93f48",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head3DailyDose",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "Head3DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "ml"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 200
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "dd0f724332bd869c",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "Head4DailyDose",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "Head4DailyDose"
            },
            {
                "property": "icon",
                "value": "mdi:needle"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "ml"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 200
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "02b9cfdc004615b4",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "d3873c4cc506cca8",
        "name": "LastNotification",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LastNotification"
            },
            {
                "property": "icon",
                "value": "mdi:bell"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "2a3ef9923e2cda51",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsBatteryLevel",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsBatteryLevel"
            },
            {
                "property": "icon",
                "value": "mdi:battery"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "b5e42181ea1fd5fb",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsTimeError",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsTimeError"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "967beb380f17cbc2",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsTiltSwitch",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsTiltSwitch"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "3c489ddec931e918",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsAcclimationEnabled",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsAcclimationEnabled"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "b4a15cd44d8e9995",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsAcclimationStartedOn",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsAcclimationStartedOn"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "660d8dee9d337914",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsAclimationDuration",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsAclimationDuration"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "seconds"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "de8079a708d626c5",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsAclimationRemainingDays",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsAclimationRemainingDays"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "days"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "391cad14dc8cb412",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsAclimationStartIntensityFactor",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsAclimationStartIntensityFactor"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "1de0cddfd2273ba9",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsAclimationCurrentIntensityFactor",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsAclimationCurrentIntensityFactor"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "830717efade97f92",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoonPhaseEnabled",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoonPhaseEnabled"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "9502ed676376529c",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoonPhaseName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoonPhaseName"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ece98cf8d0a3ed38",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoonPhaseIntensity",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoonPhaseIntensity"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "56a88a79eff34169",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoonPhaseTodaysMoonDay",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoonPhaseTodaysMoonDay"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f2b0b26848a5a895",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoonPhaseNextFullMoon",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoonPhaseNextFullMoon"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "9162731b278aa81a",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoonPhaseNextNewMoon",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoonPhaseNextNewMoon"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "b9fcc1306699cbc7",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsCurrentProgramActivePreset",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsCurrentProgramActivePreset"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "e7af747af3ce22d1",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsCurrentProgramName",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsCurrentProgramName"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "1744f00bd833f409",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsKelvin",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsKelvin"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Kelvin"
            },
            {
                "property": "min_value",
                "value": 8000
            },
            {
                "property": "max_value",
                "value": 23000
            },
            {
                "property": "step_value",
                "value": 100
            },
            {
                "property": "mode",
                "value": "slider"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "6eafc53f1621418c",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsIntensity",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsIntensity"
            },
            {
                "property": "icon",
                "value": "mdi:theme-light-dark"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "percent"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "5848159de692eb1c",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMoon",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMoon"
            },
            {
                "property": "icon",
                "value": "mdi:moon-waxing-crescent"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "percent"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "0e3c7c960d2eece8",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsMode",
        "version": "6",
        "entityType": "select",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsMode"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "options",
                "value": [
                    "auto",
                    "manual",
                    "off"
                ]
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "351d9496a00a6713",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsManualFan",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsManualFan"
            },
            {
                "property": "icon",
                "value": "mdi:fan"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "101bf342c21adce0",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsManualTemperature",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsManualTemperature"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "diagnostic"
            },
            {
                "property": "device_class",
                "value": "temperature"
            },
            {
                "property": "unit_of_measurement",
                "value": "C"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "2d92747cc331e899",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsWhite",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsWhite"
            },
            {
                "property": "icon",
                "value": "mdi:white-balance-iridescent"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "b58b2d0c79193e0e",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsBlue",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsBlue"
            },
            {
                "property": "icon",
                "value": "mdi:white-balance-sunny"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 100
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "auto"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "7d0275db9ebd6246",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "ManualDoseHead",
        "version": "6",
        "entityType": "select",
        "haConfig": [
            {
                "property": "name",
                "value": "ManualDoseHead"
            },
            {
                "property": "icon",
                "value": "mdi:pump"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "config"
            },
            {
                "property": "options",
                "value": [
                    "1",
                    "2",
                    "3",
                    "4"
                ]
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a647f8cf3bb424e5",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "ManualDoseVolume",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "ManualDoseVolume"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "config"
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "min_value",
                "value": 1
            },
            {
                "property": "max_value",
                "value": 50
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "box"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f9527650ff515a86",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "112eaa19e0068b8d",
        "name": "ManualDoseNow",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "ManualDoseNow"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": "config"
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f0bd2e978089f79b",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsDuration",
        "version": "6",
        "entityType": "number",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsDuration"
            },
            {
                "property": "icon",
                "value": "mdi:timer"
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "minutes"
            },
            {
                "property": "min_value",
                "value": 0
            },
            {
                "property": "max_value",
                "value": 120
            },
            {
                "property": "step_value",
                "value": 1
            },
            {
                "property": "mode",
                "value": "box"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "6fe5651395e05e99",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsPreset",
        "version": "6",
        "entityType": "select",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsPreset"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "options",
                "value": [
                    "23K",
                    "15K",
                    "Shallow Reef",
                    "Deep Reef",
                    "N/A"
                ]
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "4cf9a7f320f0f68f",
        "type": "ha-entity-config",
        "server": "caf9ba1992c9f965",
        "deviceConfig": "f881817f7e95c5bf",
        "name": "LightsLastCommandStatus",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "LightsLastCommandStatus"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "0d3d05e917a791bc",
        "type": "ha-device-config",
        "name": "Pump",
        "hwVersion": "",
        "manufacturer": "RedSea",
        "model": "Pump or Skimmer",
        "swVersion": ""
    },
    {
        "id": "70bff6cea0a47242",
        "type": "ha-device-config",
        "name": "RollerMat",
        "hwVersion": "",
        "manufacturer": "RedSea",
        "model": "ReefMat",
        "swVersion": ""
    },
    {
        "id": "112eaa19e0068b8d",
        "type": "ha-device-config",
        "name": "Doser",
        "hwVersion": "",
        "manufacturer": "RedSea",
        "model": "4 Head Doser",
        "swVersion": ""
    },
    {
        "id": "8e62dc8b866a6a72",
        "type": "ha-device-config",
        "name": "ReefWave",
        "hwVersion": "",
        "manufacturer": "RedSea",
        "model": "Wavemaker",
        "swVersion": ""
    },
    {
        "id": "d3873c4cc506cca8",
        "type": "ha-device-config",
        "name": "Aquarium",
        "hwVersion": "",
        "manufacturer": "RedSea",
        "model": "Aquarium",
        "swVersion": ""
    },
    {
        "id": "f881817f7e95c5bf",
        "type": "ha-device-config",
        "name": "ReefLights",
        "hwVersion": "",
        "manufacturer": "RedSea",
        "model": "ReefLed G2",
        "swVersion": ""
    }
]
